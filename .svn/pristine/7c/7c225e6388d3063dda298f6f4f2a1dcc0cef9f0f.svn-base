(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/outside/share"],{"33e0":function(o,t,e){},"5d27":function(o,t,e){"use strict";var n=e("33e0"),i=e.n(n);i.a},"785c":function(o,t,e){"use strict";e.r(t);var n=e("edf3"),i=e.n(n);for(var s in n)"default"!==s&&function(o){e.d(t,o,(function(){return n[o]}))}(s);t["default"]=i.a},9542:function(o,t,e){"use strict";e.r(t);var n=e("dc93"),i=e("785c");for(var s in i)"default"!==s&&function(o){e.d(t,o,(function(){return i[o]}))}(s);e("5d27");var c,a=e("f0c5"),r=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);t["default"]=r.exports},da00:function(o,t,e){"use strict";(function(o){e("6cdc"),e("921b");n(e("66fd"));var t=n(e("9542"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("543d")["createPage"])},dc93:function(o,t,e){"use strict";var n;e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return n}));var i=function(){var o=this,t=o.$createElement;o._self._c},s=[]},edf3:function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(e("c1df"));function n(o){return o&&o.__esModule?o:{default:o}}var i=function(){e.e("components/headertop").then(function(){return resolve(e("69cd"))}.bind(null,e)).catch(e.oe)},s={data:function(){return{titleTop:"文件预览",staHeight:"",againShow:!0,againTxt:"点击再次阅览文件",platform:"",haibaoUrl:"",imgIcon:"",imgCode:"",nickName:"",loginType:!1,rpx:1,zipShow:!1,obj:{id:""},information:!1}},components:{Headertop:i},onLoad:function(o){this.obj=JSON.parse(decodeURIComponent(o.str)),console.log(o),console.log(this.obj)},onShow:function(){this.information=!1,console.log("状态栏高度");var o=this;wx.getSystemInfo({success:function(t){console.log("状态栏高度",t.statusBarHeight),o.staHeight=t.statusBarHeight,o.rpx=t.windowWidth/375}}),"docx"!=this.obj.accessory_type&&"doc"!=this.obj.accessory_type||(this.imgIcon="../../static/home/word.png"),"ppt"!=this.obj.accessory_type&&"pptx"!=this.obj.accessory_type||(this.imgIcon="../../static/home/ppt.png"),"xls"!=this.obj.accessory_type&&"xlsx"!=this.obj.accessory_type||(this.imgIcon="../../static/home/excel.png"),"pdf"==this.obj.accessory_type&&(this.imgIcon="../../static/home/pdf.png"),"zip"!=this.obj.accessory_type&&"rar"!=this.obj.accessory_type||(this.imgIcon="../../static/home/zip.png"),"jpg"!=this.obj.accessory_type&&"png"!=this.obj.accessory_type||(this.imgIcon="../../static/home/img.png"),"txt"==this.obj.accessory_type&&(this.imgIcon="../../static/home/txt.png")},onHide:function(){},onReady:function(){var o=this;wx.getSystemInfo({success:function(t){console.log("设备",t),o.platform=t.platform}}),this.downloadFile(this.obj.filePath)},methods:{showInfo:function(){0==this.information?this.information=!0:this.information=!1,console.log(this.information)},dowInfo:function(){this.information=!1,console.log(this.information)},downloadFile:function(t){var e=this;"ios"==this.platform?wx.downloadFile({url:t.file,success:function(n){console.log(n);var i=wx.getFileSystemManager(),s=n.tempFilePath;if(console.log(i),"jpg"==e.obj.accessory_type||"png"==e.obj.accessory_type)wx.previewImage({current:s,urls:[s],success:function(o){console.log(o),setTimeout((function(){e.againShow=!1}),300)},fail:function(){}});else if("rar"==e.obj.accessory_type||"zip"==e.obj.accessory_type)e.againShow=!1,e.zipShow=!0;else if("txt"==e.obj.accessory_type){wx.getFileSystemManager().readFile({filePath:s,encoding:"utf-8",success:function(o){console.log("txt",o.data)},fail:console.error});var c={url:t.file,name:t.fileName};setTimeout((function(){e.againShow=!1}),300),c=JSON.stringify(c),o.navigateTo({url:"/pages/outside/outside?txtObj="+c})}else wx.openDocument({filePath:s,success:function(o){console.log("打开文件",o),setTimeout((function(){e.againShow=!1}),300)}})}}):wx.downloadFile({url:t.file,success:function(n){console.log(n);var i=wx.getFileSystemManager(),s=n.tempFilePath,c=wx.env.USER_DATA_PATH+"/"+t.fileName;wx.getFileSystemManager().renameSync(s,c),console.log(i),"rar"==e.obj.accessory_type||"zip"==e.obj.accessory_type?(o.showToast({title:"内部存储/tencent/MicroMsg/wxanewfiles/.../"+t.fileName,icon:"none",duration:5e3}),setTimeout((function(){e.againTxt="点击再次下载文件",e.againShow=!1}),300)):wx.openDocument({filePath:c,success:function(o){console.log("打开文档成功"),setTimeout((function(){e.againShow=!1}),300)}})}})}}};t.default=s}).call(this,e("543d")["default"])}},[["da00","common/runtime","common/vendor"]]]);