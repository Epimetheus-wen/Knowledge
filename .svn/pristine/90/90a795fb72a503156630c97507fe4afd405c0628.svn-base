<view class="preList"><block wx:if="{{!isRotating}}"><headertop vue-id="24d49492-1" titleTop="{{titleTop}}" bind:__l="__l"></headertop></block><block wx:else><header-landscape vue-id="24d49492-2" titleTop="{{titleTop}}" bind:__l="__l"></header-landscape></block><view class="preList_main"><view class="preList_title"><view class="title">商务排行榜</view><view class="txt">(每晚24点更新数据)</view></view><view class="huitiao"></view><view class="preList_main_top"><view data-event-opts="{{[['tap',[['cutTab',[1]]]]]}}" class="{{[dataType==1?'top_title top_title_action':'top_title']}}" style="{{(Permission!=4?'color: #949494;border-bottom: 2rpx solid #E9E9E9;':'')}}" bindtap="__e">个人排名</view><block wx:if="{{Permission==4}}"><view data-event-opts="{{[['tap',[['cutTab',[2]]]]]}}" class="{{[dataType==2?'top_title top_title_action':'top_title']}}" bindtap="__e">团队排名</view></block></view><view class="preList_Table"><block wx:if="{{!isRotating}}"><view><view class="preList_Table_time"><view data-event-opts="{{[['tap',[['showPop3']]]]}}" class="Table_time" bindtap="__e"><view class="time">{{customDate.value.start+" 到 "+customDate.value.end}}</view><image class="img" src="../static/images/riqi.png"></image></view><view data-event-opts="{{[['tap',[['showPop5',['$0'],['eventType.n']]]]]}}" class="title_item title_item2" bindtap="__e">{{eventType.value+''}}<block wx:if="{{!eventType.dom}}"><image class="img" src="../static/images/show.png"></image></block><block wx:else><image class="img" src="../static/images/show_no.png"></image></block></view><view data-event-opts="{{[['tap',[['showPop6',['$0'],['sort.n']]]]]}}" class="title_item title_item2" bindtap="__e">{{sort.value+''}}<block wx:if="{{sort.n==1||sort.n==3||sort.n==5}}"><image class="img1" src="../static/images/sheng.png"></image></block><block wx:if="{{sort.n==2||sort.n==4||sort.n==6}}"><image class="img1" src="../static/images/dao.png"></image></block></view></view><view class="shade_popup show_popup" style="{{(customDate.dom?'display:block;top: calc('+(staHeight*2+80)+'rpx);':'display:none;top: calc('+(staHeight*2+80)+'rpx);')}}" catchtouchmove="ture" data-event-opts="{{[['tap',[['offPop3',['$event']]]]]}}" bindtap="__e"></view><view class="{{[customDate.shade?'popup_content popup_content3 popup_content_show3':'popup_content popup_content3 popup_content_no3']}}" style="{{(customDate.dom?'display:block':'display:none')}}"><view class="top"><view class="title">日期选择</view><view data-event-opts="{{[['tap',[['offPop3',['$event']]]]]}}" class="off_icon" bindtap="__e"><image class="img" src="../../static/dataModule/icon_clone.png"></image></view></view><view class="main"><uni-calendar vue-id="24d49492-3" range="{{true}}" insert="{{true}}" lunar="{{false}}" showMonth="{{false}}" start-date="{{customDate.startDate}}" end-date="{{customDate.endDate}}" date="{{customDate.dufData}}" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l"></uni-calendar><view class="cal_data"><view class="time_txt"><view class="m1"><view class="title">开始：</view><view class="t1">{{customDate.data.start}}</view></view><view class="m1"><view class="title">结束：</view><view class="t1">{{customDate.data.end}}</view></view></view><button data-event-opts="{{[['tap',[['confirmTime',['$event']]]]]}}" class="time" bindtap="__e">确定</button></view></view></view></view></block><block wx:else><view><view class="preList_Table_time"><view data-event-opts="{{[['tap',[['showPop3']]]]}}" class="Table_time" bindtap="__e"><view class="time">{{customDate.value.start+" 到 "+customDate.value.end}}</view><image class="img" src="../static/images/riqi.png"></image></view><view class="tishi">(每晚24点更新数据)</view></view><view class="shade_popup_h show_popup" style="{{(customDate.dom?'display:block':'display:none')}}" catchtouchmove="ture" data-event-opts="{{[['tap',[['offPop3',['$event']]]]]}}" bindtap="__e"></view><view class="{{[customDate.shade?'h_pop popup_content_show20':'h_pop popup_content_no21']}}" style="{{(customDate.dom?'display:block':'display:none')}}"><view class="top"><view class="title">日期选择</view><view data-event-opts="{{[['tap',[['offPop3',['$event']]]]]}}" class="off_icon" bindtap="__e"><image class="img" src="../../static/dataModule/icon_clone.png"></image></view></view><view class="main"><uni-calendar class="main_calendar" vue-id="24d49492-4" range="{{true}}" insert="{{true}}" lunar="{{false}}" showMonth="{{false}}" start-date="{{customDate.startDate}}" end-date="{{customDate.endDate}}" date="{{customDate.dufData}}" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l"></uni-calendar><view class="cal_data_h"><view class="time_txt"><view class="m1"><view class="title">开始：</view><view class="t1">{{customDate.data.start}}</view></view><view class="m1"><view class="title">结束：</view><view class="t1">{{customDate.data.end}}</view></view></view><button data-event-opts="{{[['tap',[['confirmTime',['$event']]]]]}}" class="time" bindtap="__e">确定</button></view></view></view></view></block><block wx:if="{{dataType==1}}"><view class="preList_Table_list"><scroll-view class="right" style="{{('max-height:'+(slideYY-30-80)+'rpx')}}" scroll-with-animation="{{true}}" scroll-anchoring="{{true}}" scroll-top="{{scrollTop}}" scroll-left="{{scrollLeft}}" scroll-y="{{true}}" scroll-x="{{true}}" data-event-opts="{{[['scroll',[['getScroll',['$event']]]],['scrolltolower',[['getScrollBottom',['$event']]]]]}}" bindscroll="__e" bindscrolltolower="__e"><view class="right_h right_h1"><view class="title" style="position:sticky;top:0;z-index:1;"><view class="title_item_left" style="position:sticky;left:0;top:0;z-index:1;"><text class="txt1">序号</text><text class="txt2">员工姓名</text></view><view class="title_item title_item2">客户数量</view><view class="title_item title_item2">营收（万）</view><view class="title_item title_item2">成本（万）</view><view class="title_item title_item2">毛利（万）</view><view class="title_item title_item1">毛利率</view></view><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="list"><view class="title_item_left1" style="position:sticky;left:0;"><view class="txt1">{{item.id}}</view><view data-event-opts="{{[['tap',[['goDetails',['$0'],[[['list','',index,'sale_name']]]]]]]}}" class="txt2" bindtap="__e">{{item.sale_name}}</view></view><view class="title_item title_item2">{{item.cust_num+''}}</view><view class="title_item title_item2">{{item.revenue}}</view><view class="title_item title_item2">{{item.cost}}</view><view class="title_item title_item2">{{item.profit}}</view><view class="title_item title_item1">{{item.rate}}</view></view></block><view class="list_footer" style="position:sticky;left:0;"><block wx:if="{{load}}"><view class="load_footer"><view class="txt"><uni-icons class="load_icon" vue-id="24d49492-5" type="spinner-cycle" size="30" bind:__l="__l"></uni-icons><text>正在加载中......</text></view></view></block><block wx:if="{{!load}}"><image class="img" src="../static/images/footer.png"></image></block></view></view></scroll-view></view></block><block wx:if="{{dataType==2}}"><view class="preList_Table_list"><scroll-view class="right" style="{{('max-height:'+(slideYY-30-80)+'rpx')}}" scroll-anchoring="{{true}}" scroll-top="{{scrollTop2}}" scroll-left="{{scrollLeft2}}" scroll-y="{{true}}" scroll-x="{{true}}" data-event-opts="{{[['scrolltolower',[['getScrollBottom2',['$event']]]]]}}" bindscrolltolower="__e"><view class="right_h right_h2"><view class="title" style="position:sticky;top:0;z-index:1;"><view class="title_item_left" style="position:sticky;left:0;top:0;z-index:1;"><text class="txt1">序号</text><text class="txt2">二级部门</text></view><view class="title_item title_item2">组长</view><view class="title_item title_item2">客户数量</view><view class="title_item title_item2">营收（万）</view><view class="title_item title_item2">成本（万）</view><view class="title_item title_item2">毛利（万）</view><view class="title_item title_item1">毛利率</view></view><block wx:for="{{list2}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="list"><view class="title_item_left1" style="position:sticky;left:0;"><view class="txt1">{{item.id}}</view><view class="txt2">{{item.dep_name}}</view></view><view class="title_item title_item2">{{item.leader_name+''}}</view><view class="title_item title_item2">{{item.num+''}}</view><view class="title_item title_item2">{{item.revenue}}</view><view class="title_item title_item2">{{item.cost}}</view><view class="title_item title_item2">{{item.profit}}</view><view class="title_item title_item1">{{item.rate}}</view></view></block><view class="list_footer" style="position:sticky;left:0;"><block wx:if="{{load2}}"><view class="load_footer"><view class="txt"><uni-icons class="load_icon" vue-id="24d49492-6" type="spinner-cycle" size="30" bind:__l="__l"></uni-icons><text>正在加载中......</text></view></view></block><block wx:if="{{!load2}}"><image class="img" src="../static/images/footer.png"></image></block></view></view></scroll-view></view></block><block wx:if="{{eventType.dom}}"><view class="shade_popup show_popup" style="{{('top: calc('+(staHeight*2+80)+'rpx);')}}" catchtouchmove="ture" data-event-opts="{{[['tap',[['offPop5',['$event']]]]]}}" bindtap="__e"></view></block><block wx:if="{{eventType.dom}}"><view class="{{[eventType.shade?'popup_content popup_content_show':'popup_content popup_content_no']}}"><view class="main" style="border-radius:20rpx 20rpx 0 0;"><block wx:for="{{eventType.list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['pitch5',['$0'],[[['eventType.list','',index,'business_key']]]]]]]}}" class="{{[eventType.n==item.business_key?'list1 list_action':'list1']}}" bindtap="__e">{{item.business_val}}</view></block></view></view></block><block wx:if="{{sort.dom}}"><view class="shade_popup show_popup" style="{{('top: calc('+(staHeight*2+80)+'rpx);')}}" catchtouchmove="ture" data-event-opts="{{[['tap',[['offPop6',['$event']]]]]}}" bindtap="__e"></view></block><block wx:if="{{sort.dom}}"><view class="{{[sort.shade?'popup_content popup_content_show':'popup_content popup_content_no']}}"><view class="main main1" style="border-radius:20rpx 20rpx 0 0;"><block wx:for="{{sort.list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['pitch6',['$0'],[[['sort.list','',index,'id']]]]]]]}}" class="{{[sort.n==item.id?'list2 list_action':'list2']}}" bindtap="__e">{{item.name}}</view></block></view></view></block></view><block wx:if="{{toTop}}"><button class="getTop" hover-class="getTop_hover" data-event-opts="{{[['tap',[['getTop',['$event']]]]]}}" bindtap="__e"><image class="img" src="../static/images/top.png"></image></button></block></view></view>