(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/operationalAnalysis/operationalAnalysis"],{"1bb4":function(t,e,i){"use strict";(function(t){i("6cdc"),i("921b");n(i("66fd"));var e=n(i("6a6d"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"53a8":function(t,e,i){},"6a6d":function(t,e,i){"use strict";i.r(e);var n=i("dec4"),a=i("7fb6");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("a4e8");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"5236cc06",null,!1,n["a"],s);e["default"]=l.exports},"7fb6":function(t,e,i){"use strict";i.r(e);var n=i("be83"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a4e8:function(t,e,i){"use strict";var n=i("53a8"),a=i.n(n);a.a},be83:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("c1df"));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){i.e("components/navTab").then(function(){return resolve(i("3502"))}.bind(null,i)).catch(i.oe)},s=function(){i.e("components/headertop").then(function(){return resolve(i("69cd"))}.bind(null,i)).catch(i.oe)},r=function(){i.e("pagesA/operationalAnalysis/seiperDot").then(function(){return resolve(i("62b1"))}.bind(null,i)).catch(i.oe)},l=function(){Promise.all([i.e("common/vendor"),i.e("pagesA/components/uni-popup/uni-popup")]).then(function(){return resolve(i("d24d"))}.bind(null,i)).catch(i.oe)},h=function(){Promise.all([i.e("common/vendor"),i.e("pagesA/components/uni-ec-canvas/uni-ec-canvas")]).then(function(){return resolve(i("1fc9"))}.bind(null,i)).catch(i.oe)},c={data:function(){return{titleTop:"经分概览",rpx:1,Permission:"1",staHeight:"",list:[{name:"swiperSlide1",imgUrl:i("65f3"),imgUrl2:i("e662"),title:"经营日报",uptime:"",nameTitle:"昨日毛利",ranking:"",sum:"10,000.00",text:"新用户立即注册可享短信免费体验！",to:"register"},{name:"swiperSlide2",imgUrl:i("65f3"),imgUrl2:i("e662"),title:"经营月报",uptime:"",ranking:"",nameTitle:"月累计毛利",sum:"10,000.00",text:"最大效率触达客户，确保用户知晓信息",to:"register"},{name:"swiperSlide2",imgUrl:i("65f3"),imgUrl2:i("e662"),title:"经营年报",uptime:"",ranking:"",nameTitle:"年累计毛利",sum:"10,000.00",text:"最大效率触达客户，确保用户知晓信息",to:"register"}],dataSum:{day:{cost:0,profit:0,rate:"0%",revenue:0},month:{cost:0,profit:0,rate:"0%",revenue:0},year:{cost:0,profit:0,rate:"0%",revenue:0}},current:0,indicatorDots:!1,autoplay:!1,interval:5e3,duration:500,ationFilter1:!1,ationFilter2:!0,ationFilter3:!0,ationFilter4:!1,ationFilter5:!0,ationFilter6:!0,filterType:1,ationFilter7:!1,ationFilter8:!0,ationFilter9:!0,ationClass1:!1,ationClass2:!0,ationClass3:!0,classType:1,ationClass4:!1,ationClass5:!0,ec:{option:{color:["#3AA0FF","#4DCB73"],title:{text:""},tooltip:{trigger:"axis",formatter:"{b}\r\n营收：{c0}\r\n毛利：{c1}",backgroundColor:"rgba(255,255,255,1)",extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",axisPointer:{type:"none"},borderRadius:4,textStyle:{color:"#333333",fontSize:18}},legend:{selectedMode:!1,data:[{name:"营收",icon:"rect"},{name:"毛利",icon:"rect"}],itemHeight:6,itemWidth:30,bottom:"4%",textStyle:{fontSize:20,padding:[0,25,0,0]}},grid:{top:"10%",left:"3.2%",right:"3.2%",bottom:"14%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["    8.3","8.4","8.5","8.6","8.7","8.8","8.9    "],axisTick:{show:!1,alignWithLabel:!0},axisLabel:{color:"#999999",fontSize:18},axisLine:{lineStyle:{color:["#F1F1F1"],width:.3}}},yAxis:{type:"value",splitNumber:6,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:["#F1F1F1"],width:.3}},axisLabel:{color:"#999999",fontSize:18}},series:[{name:"营收",type:"line",symbol:null,symbolSize:5,hoverAnimation:!1,itemStyle:{normal:{color:"#3AA0FF",borderColor:"#fff",borderWidth:1},emphasis:{borderWidth:1,color:"#3AA0FF",borderColor:"#fff",shadowBlur:3,shadowColor:"#3AA0FF"}},lineStyle:{color:"#3AA0FF"},data:[0,0,0,0,0,0,0]},{name:"毛利",type:"line",symbol:null,symbolSize:5,hoverAnimation:!1,itemStyle:{normal:{color:"#4DCB73",borderColor:"#fff",borderWidth:1},emphasis:{borderWidth:1,color:"#4DCB73",borderColor:"#fff",shadowBlur:3,shadowColor:"#4DCB73"}},lineStyle:{color:"#4DCB73"},data:[0,0,0,0,0,0,0]}]}},ec2:{option:{color:["#178FFF","#2FC15B","#F9CB13"],title:{text:""},tooltip:{trigger:"axis",formatter:"",backgroundColor:"rgba(255,255,255,1)",extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",axisPointer:{type:"none"},borderRadius:4,textStyle:{color:"#333333",fontSize:18}},legend:{selectedMode:!1,data:[{name:"隐私号",icon:"rect"},{name:"短信",icon:"rect"},{name:"云线路",icon:"rect"}],itemHeight:6,itemWidth:6,bottom:"4%",textStyle:{fontSize:20,padding:[0,25,0,0]}},dataZoom:[{type:"inside",xAxisIndex:"0",startValue:0,endValue:6}],grid:{top:"10%",left:"3.2%",right:"3.2%",bottom:"14%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,data:["8.3","8.4","8.5","8.6","8.7","8.8","8.9"],axisTick:{show:!1,alignWithLabel:!0},axisLabel:{color:"#999999",fontSize:18},axisLine:{lineStyle:{color:["#F1F1F1"],width:.3}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:["#F1F1F1"],width:.3}},axisLabel:{color:"#999999",fontSize:18}},series:[]}},rankingList:{revenue:[{sale_name:"张三",dep_name:"未知",revenue:"56,982.00"},{sale_name:"吕超源",dep_name:"未知",revenue:"56,982.00"},{sale_name:"邱杰",dep_name:"未知",revenue:"56,982.00"},{revenue:"203.35",sale_name:"易芬芬",dep_name:"未知"},{revenue:"185.69",sale_name:"黄杰",dep_name:"未知"}],profit:[{sale_name:"易芬芬",dep_name:"未知",profit:"56,982.00"},{sale_name:"欧阳俊勋",dep_name:"未知",profit:"56,982.00"},{sale_name:"房平阳",dep_name:"北京商务一组",profit:"56,982.00"},{profit:"28.85",sale_name:"吕超源",dep_name:"未知"},{profit:"16.53",sale_name:"刘晓丹",dep_name:"未知"}],per_revenue:{nickname:"房平阳",dep_name:"北京商务一组",per_rank:1,val:"56,982.00"},per_profit:{nickname:"房平阳",dep_name:"北京商务一组",per_rank:1,val:"56,982.00"}},rankingType:!0,ecType2:!0,ecType:!0}},components:{NavTab:o,Headertop:s,swiperDot:r,uniPopup:l,uniEcCanvas:h},onLoad:function(){t.hideTabBar()},onShow:function(){var t=this,e=this;wx.getSystemInfo({success:function(t){console.log("设备版本信息",t),console.log("状态栏高度",t.statusBarHeight),e.staHeight=t.statusBarHeight,e.rpx=t.windowWidth/750}}),this.getDataAuth().then((function(e){console.log(e),t.Permission=e,2==t.Permission&&t.getRank().then((function(e){console.log(e),t.list[0].ranking=e.yesterdayRank,t.list[1].ranking=e.monthRank,t.list[2].ranking=e.yearRank}))})),this.getDayData().then((function(e){console.log(e),t.list[0].sum=e.profit,t.dataSum.day=e})),this.getMonthData().then((function(e){console.log(e),t.list[1].sum=e.profit,t.dataSum.month=e})),this.getYearData().then((function(e){console.log(e),t.list[2].sum=e.profit,t.dataSum.year=e}))},onReady:function(){console.log("测试");var t=new Date;this.list[0].uptime=(0,n.default)(t).format("YYYY")+"年"+(0,n.default)(t).format("MM")+"月"+(0,n.default)(t).format("DD")+"日",this.list[1].uptime=(0,n.default)(t).format("YYYY")+"年"+(0,n.default)(t).format("MM")+"月",this.list[2].uptime=(0,n.default)(t).format("YYYY")+"年度",this.operateGraph(1),this.businessGraph(1,this.classType),this.businessRank(1),this.ec.option.yAxis.axisLabel.fontSize=18*this.rpx,this.ec.option.xAxis.axisLabel.fontSize=18*this.rpx,this.ec.option.legend.itemHeight=6*this.rpx,this.ec.option.legend.itemWidth=30*this.rpx,this.ec.option.legend.textStyle.fontSize=20*this.rpx,this.ec.option.legend.textStyle.padding[1]=25*this.rpx,this.ec2.option.yAxis.axisLabel.fontSize=18*this.rpx,this.ec2.option.xAxis.axisLabel.fontSize=18*this.rpx,this.ec2.option.legend.itemHeight=6*this.rpx,this.ec2.option.legend.itemWidth=6*this.rpx,this.ec2.option.legend.textStyle.fontSize=20*this.rpx,this.ec2.option.legend.textStyle.padding[1]=25*this.rpx},methods:{getRank:function(){var t=this;return new Promise((function(e,i){t.$post("/apiBusiness.html?f=getRank").then((function(t){console.log("getRank==>个人毛利数据排名",t),e(t.data)}))}))},getDataAuth:function(){var t=this;return new Promise((function(e,i){t.$post("/apiBusiness.html?f=getDataAuth").then((function(t){console.log("getDataAuth==>获取数据权限",t),e(t.data)}))}))},getMonthData:function(){var t=this;return new Promise((function(e,i){t.$post("/apiBusiness.html?f=getMonthData").then((function(t){console.log("getMonthData==>本月数据",t),e(t.data)}))}))},getDayData:function(){var t=this;return new Promise((function(e,i){t.$post("/apiBusiness.html?f=getDayData").then((function(t){console.log("getDayData==>昨日数据",t),e(t.data)}))}))},getYearData:function(){var t=this;return new Promise((function(e,i){t.$post("/apiBusiness.html?f=getYearData").then((function(t){console.log("getYearData==>本年数据",t),e(t.data)}))}))},operateGraph:function(t){var e=this,i={type:t};this.$post("/apiBusiness.html?f=operateGraph",i).then((function(i){console.log("operateGraph==>经营趋势图",i),i.data.x[0]="     "+i.data.x[0],i.data.x[i.data.x.length-1]=i.data.x[i.data.x.length-1]+"     ",3==t&&(i.data.x[0]="      "+i.data.x[0],i.data.x[i.data.x.length-1]=i.data.x[i.data.x.length-1]+"      "),e.ec.option.xAxis.data=i.data.x,e.ec.option.series[0].data=i.data.list[0].data,e.ec.option.series[1].data=i.data.list[1].data,0==e.ec.option.series.length?e.ecType=!1:e.ecType=!0}))},businessGraph:function(t,e){var i=this,n={type:t,statistics_type:e};this.$post("/apiBusiness.html?f=businessGraph",n).then((function(t){console.log("businessGraph==>业务占比图",t),i.ec2.option.xAxis.data=t.data.x,i.ec2.option.dataZoom[0].endValue=t.data.x.length-1,i.ec2.option.tooltip.formatter="{b}",t.data.list.map((function(e,n){e["type"]="bar",e["barWidth"]=40*i.rpx,i.ec2.option.tooltip.formatter=i.ec2.option.tooltip.formatter+"\r\n"+e.name+"：{c"+(t.data.list.length-(n+1))+"}",1==t.data.list.length?i.ec2.option.color=["#178FFF"]:2==t.data.list.length?i.ec2.option.color=["#2FC15B","#178FFF"]:i.ec2.option.color=["#F9CB13","#2FC15B","#178FFF"]})),i.ec2.option.series=t.data.list.reverse(),0==i.ec2.option.series.length?i.ecType2=!1:i.ecType2=!0,console.log(i.ec2.option.series)}))},businessRank:function(t){var e=this;return new Promise((function(i,n){e.$post("/apiBusiness.html?f=businessRank",{type:t}).then((function(t){console.log("businessRank==>商务排名",t),e.rankingList=t.data,2!=e.Permission&&(0==e.rankingList.revenue.length?e.rankingType=!1:e.rankingType=!0),i(t.data)}))}))},change:function(t){this.current=t.detail.current},tishiOpen:function(){this.$refs.popup.open()},handelChange:function(t){console.log(t)},backgen:function(){this.$refs.popup.close()},filterTime:function(t){1==t?this.ationFilter1?(this.ationFilter1=!1,this.operateGraph(1)):this.ationFilter1=!1:this.ationFilter1=!0,2==t?this.ationFilter2?(this.ationFilter2=!1,this.operateGraph(2)):this.ationFilter2=!1:this.ationFilter2=!0,3==t?this.ationFilter3?(this.ationFilter3=!1,this.operateGraph(3)):this.ationFilter3=!1:this.ationFilter3=!0},filterTime2:function(t){4==t?(this.filterType=1,this.ationFilter4?(this.ationFilter4=!1,this.businessGraph(1,this.classType)):this.ationFilter4=!1):this.ationFilter4=!0,5==t?(this.filterType=2,this.ationFilter5?(this.ationFilter5=!1,this.businessGraph(2,this.classType)):this.ationFilter5=!1):this.ationFilter5=!0,6==t?(this.filterType=3,this.ationFilter6?(this.ationFilter6=!1,this.businessGraph(3,this.classType)):this.ationFilter6=!1):this.ationFilter6=!0},filterTime3:function(t){7==t?this.ationFilter7?(this.ationFilter7=!1,this.businessRank(1)):this.ationFilter7=!1:this.ationFilter7=!0,8==t?this.ationFilter8?(this.ationFilter8=!1,this.businessRank(2)):this.ationFilter8=!1:this.ationFilter8=!0,9==t?this.ationFilter9?(this.ationFilter9=!1,this.businessRank(3)):this.ationFilter9=!1:this.ationFilter9=!0},filterClass:function(t){1==t?(this.classType=1,this.ationClass1?(this.ationClass1=!1,this.businessGraph(this.filterType,1)):this.ationClass1=!1):this.ationClass1=!0,2==t?(this.classType=2,this.ationClass2?(this.ationClass2=!1,this.businessGraph(this.filterType,2)):this.ationClass2=!1):this.ationClass2=!0,3==t?(this.classType=3,this.ationClass3?(this.ationClass3=!1,this.businessGraph(this.filterType,3)):this.ationClass3=!1):this.ationClass3=!0},filterClass2:function(t){this.ationClass4=4!=t,this.ationClass5=5!=t},goDetails:function(e){t.navigateTo({url:"/pagesA/details/details?name="+e})},goDetailsTop:function(){console.log("排名跳转"),t.navigateTo({url:"/pagesA/details/details?name="+this.rankingList.per_profit.nickname})},gooPanel:function(){t.navigateTo({url:"/pagesA/oaPanel/oaPanel"})},goPreList:function(){t.navigateTo({url:"/pagesA/preList/preList"})}}};e.default=c}).call(this,i("543d")["default"])},dec4:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c},o=[]}},[["1bb4","common/runtime","common/vendor"]]]);