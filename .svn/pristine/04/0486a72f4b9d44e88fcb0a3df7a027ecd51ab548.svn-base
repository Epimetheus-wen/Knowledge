(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/searchList"],{"07bb":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement;t._self._c},i=[]},"34b7":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("c1df"));function o(t){return t&&t.__esModule?t:{default:t}}var i=function(){a.e("components/loadingList").then(function(){return resolve(a("1556"))}.bind(null,a)).catch(a.oe)},c=function(){a.e("components/navTab").then(function(){return resolve(a("3502"))}.bind(null,a)).catch(a.oe)},s=function(){a.e("components/headertop").then(function(){return resolve(a("69cd"))}.bind(null,a)).catch(a.oe)},l={data:function(){return{titleTop:"搜索结果",searchValue:"",searchDefault:"",searchBut:!0,list:[],type:"",count:"",typeName:"",load:!0,showLoad:!0,totalPage:0,page:1}},components:{NavTab:c,Headertop:s,loadingList:i},onLoad:function(t){console.log(t.data);var e=JSON.parse(t.data);this.searchValue=e.value,this.type=e.type,1==this.type&&(this.typeName="文件",this.titleTop=this.titleTop+"-文件"),2==this.type&&(this.typeName="常见问题",this.titleTop=this.titleTop+"-常见问题")},onShow:function(){var t=this;this.getSearchList(this.searchValue,this.page).then((function(e){console.log(e),t.list=e,t.searchDefault=t.searchValue,t.page>=t.totalPage&&(t.load=!1)}))},onReady:function(){},onReachBottom:function(e){var a=this;console.log(e);var n=this.totalPage;if(console.log(this.page),this.page>=n&&(this.load=!1),this.page+1<=n){this.getSearchList(this.searchDefault,this.page+1).then((function(t){console.log(t),a.list=a.list.concat(t)})),this.page+=1;var o=wx.createSelectorQuery();o.select(".list_footer").boundingClientRect(),o.selectViewport().scrollOffset(),o.exec((function(e){console.log(e),t.pageScrollTo({scrollTop:e[1].scrollTop,duration:300})}))}},methods:{updateCollect:function(t){console.log(t),0==this.list[t].fav?this.list[t].fav=1:this.list[t].fav=0},getSearchList:function(t,e){var a=this;return new Promise((function(o,i){var c={key:t,type:a.type,page:e};a.$post("/apiIndex.html?f=indexSearchTypeList",c).then((function(t){console.log("ndexSearchTypeList",t),a.count=t.data.count,a.totalPage=t.data.totalPage,t.data.list.map((function(t){t.tt=(0,n.default)(t.update_time).format("YYYY-MM-DD HH:MM"),t.update_time=(0,n.default)(t.update_time).format("YYYY-MM-DD")})),o(t.data.list)}))}))},eliminate:function(){this.searchValue=""},goSearch:function(t){var e=this,a=t;this.page=1,a&&""!=a&&this.getSearchList(this.searchDefault,this.page).then((function(t){console.log(t),e.list=t,e.searchDefault=e.searchValue,e.searchBut=!0}))},backSearch:function(e){console.log("取消"),t.switchTab({url:"/pages/search/search"})},bindInput:function(t){console.log(t.detail.value),t.detail.value==this.searchDefault?this.searchBut=!0:this.searchBut=!1}}};e.default=l}).call(this,a("543d")["default"])},"4c27":function(t,e,a){"use strict";a.r(e);var n=a("34b7"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},"6f86":function(t,e,a){"use strict";a.r(e);var n=a("07bb"),o=a("4c27");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("e316");var c,s=a("f0c5"),l=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);e["default"]=l.exports},"98f0":function(t,e,a){"use strict";(function(t){a("6cdc"),a("921b");n(a("66fd"));var e=n(a("6f86"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},d0e8:function(t,e,a){},e316:function(t,e,a){"use strict";var n=a("d0e8"),o=a.n(n);o.a}},[["98f0","common/runtime","common/vendor"]]]);