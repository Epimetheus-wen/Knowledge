{"version":3,"sources":["webpack:///./src/components/yq-avatar/yq-avatar.vue?c95d","webpack:///./src/components/yq-avatar/yq-avatar.vue?2da0","webpack:///./src/components/yq-avatar/yq-avatar.vue?b943","webpack:///./src/components/yq-avatar/yq-avatar.vue?4354","webpack:///./src/components/yq-avatar/yq-avatar.vue","webpack:///./src/components/yq-avatar/yq-avatar.vue?c574","webpack:///./src/components/yq-avatar/yq-avatar.vue?b66c"],"names":["tH","name","data","csH","sD","sT","pT","iS","sS","sO","bW","bD","tp","imgSrc","watch","avatarSrc","props","avatarStyle","selWidth","selHeight","expWidth","expHeight","minScale","maxScale","canScale","canRotate","lockWidth","lockHeight","stretch","lock","fileType","noTab","inner","quality","index","bgImage","created","cc","uni","createCanvasContext","cco","ccp","qlty","parseFloat","letRotate","letScale","isin","indx","undefined","mnScale","mxScale","noBar","stc","lck","fType","fWindowResize","showTabBar","fail","success","complete","res","hideTabBar","console","log","methods","sysInfo","getSystemInfoSync","platform","wW","windowWidth","drawTop","wH","windowHeight","pxRatio","style","trim","split","obj","v","toString","indexOf","arr","k","join","eW","parseInt","eH","fDrawInit","fHideImg","fSelect","fSelecting","setTimeout","chooseImage","count","sizeType","sourceType","r","showLoading","title","mask","path","imgPath","tempFilePaths","getImageInfo","src","imgWidth","width","imgHeight","height","hasSel","sW","sH","top","left","showModal","showCancel","showToast","duration","hideLoading","fUpload","fUploading","$emit","x","y","pixelRatio","canvasToTempFilePath","destWidth","destHeight","canvasId","tempFilePath","avatar","rtn","base64","fPrvUpload","fPrvUploading","prvX","prvY","prvWidth","prvHeight","ini","allWidth","allHeight","imgRadio","useWidth","useHeight","useRadio","fixWidth","fixHeight","lckWidth","lckHeight","scaleSize","rotateDeg","posWidth","posHeight","centerX","centerY","focusX","focusY","canvas","canvasOper","setFillStyle","beginPath","setLineWidth","setGlobalAlpha","drawImage","fillRect","stroke","draw","fDrawImage","tm_now","Date","now","drawTm","cx","cy","translate","rotate","Math","PI","fPreview","fPreviewing","prvImgTmp","radio","rHeight","fChooseImg","params","fRotate","fStart","e","touches","touch0","touch1","fgDistance","sqrt","fMove","beScaleSize","growX","growY","l","t","b","right","bottom","atan","beX","beY","abs","fEnd","prvImg","prvImgData","target","fClose","fGetImgData","Promise","resolve","reject","canvasGetImageData","err","fColorChange","prvTm","catch","Uint8ClampedArray","length","i","detail","value","n","g","max","min","d","h","s","a","round","q","p","hK","tR","tG","tB","correctRGB","createRGB","canvasPutImageData","btop","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","window","URL","webkitURL","createObjectURL","Blob","type"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AAC6D;AACL;AACa;;;AAGrE;AACmI;AACnI,gBAAgB,gJAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAsc,CAAgB,keAAG,EAAC,C;;;;;;;;;;;;ACA1d;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEc;;;;;;;;;;;;;;;;;;;;;AACb,IAAMA,EAAE,GAAG,EAAX;eACe;AACdC,MAAI,EAAE,WADQ;AAEdC,MAFc,kBAEP;AACN,WAAO;AACNC,SAAG,EAAE,KADC;AAENC,QAAE,EAAE,MAFE;AAGNC,QAAE,EAAE,UAHE;AAINC,QAAE,EAAE,UAJE;AAKNC,QAAE,EAAE,EALE;AAMNC,QAAE,EAAE,EANE;AAONC,QAAE,EAAE,IAPE;AAQNC,QAAE,EAAE,KARE;AASNC,QAAE,EAAE,MATE;AAUNC,QAAE,EAAE,CAVE;AAWNC,YAAM,EAAE;AACPA,cAAM,EAAE;AADD;AAXF,KAAP;AAeA,GAlBa;AAmBdC,OAAK,EAAE;AACNC,aADM,uBACM;AACX,WAAKF,MAAL,CAAYA,MAAZ,GAAqB,KAAKE,SAA1B;AACA;AAHK,GAnBO;AAwBdC,OAAK,EAAE;AACND,aAAS,EAAE,EADL;AAENE,eAAW,EAAE,EAFP;AAGNC,YAAQ,EAAE,EAHJ;AAINC,aAAS,EAAE,EAJL;AAKNC,YAAQ,EAAE,EALJ;AAMNC,aAAS,EAAE,EANL;AAONC,YAAQ,EAAE,EAPJ;AAQNC,YAAQ,EAAE,EARJ;AASNC,YAAQ,EAAE,EATJ;AAUNC,aAAS,EAAE,EAVL;AAWNC,aAAS,EAAE,EAXL;AAYNC,cAAU,EAAE,EAZN;AAaNC,WAAO,EAAE,EAbH;AAcNC,QAAI,EAAE,EAdA;AAeNC,YAAQ,EAAE,EAfJ;AAgBNC,SAAK,EAAE,EAhBD;AAiBNC,SAAK,EAAE,EAjBD;AAkBNC,WAAO,EAAE,EAlBH;AAmBNC,SAAK,EAAE,EAnBD;AAoBNC,WAAO,EAAE;AApBH,GAxBO;AA8CdC,SA9Cc,qBA8CJ;AAAA;;AACA,SAAKC,EAAL,GAAUC,GAAG,CAACC,mBAAJ,CAAwB,eAAxB,EAAyC,IAAzC,CAAV;AAET,SAAKC,GAAL,GAAWF,GAAG,CAACC,mBAAJ,CAAwB,aAAxB,EAAuC,IAAvC,CAAX;AACA,SAAKE,GAAL,GAAWH,GAAG,CAACC,mBAAJ,CAAwB,YAAxB,EAAsC,IAAtC,CAAX;AACA,SAAKG,IAAL,GAAYC,UAAU,CAAC,KAAKV,OAAN,CAAV,IAA4B,CAAxC;AACA,SAAKpB,MAAL,CAAYA,MAAZ,GAAqB,KAAKE,SAA1B;AACA,SAAK6B,SAAL,GAAkB,KAAKnB,SAAL,KAAmB,KAAnB,IAA4B,KAAKO,KAAL,KAAe,IAA3C,IAAmD,KAAKA,KAAL,KAAe,MAAlE,IAA4E,KAAKP,SAAL,KAAmB,OAAhG,GAA2G,CAA3G,GAA+G,CAAhI;AACA,SAAKoB,QAAL,GAAiB,KAAKrB,QAAL,KAAkB,KAAlB,IAA2B,KAAKA,QAAL,KAAkB,OAA9C,GAAyD,CAAzD,GAA6D,CAA7E;AACA,SAAKsB,IAAL,GAAa,KAAKd,KAAL,KAAe,IAAf,IAAuB,KAAKA,KAAL,KAAe,MAAvC,GAAiD,CAAjD,GAAqD,CAAjE;AACA,SAAKe,IAAL,GAAY,KAAKb,KAAL,IAAcc,SAA1B;AACA,SAAKC,OAAL,GAAeN,UAAU,CAAC,KAAKrB,QAAN,CAAV,IAA6B,GAA5C;AACA,SAAK4B,OAAL,GAAeP,UAAU,CAAC,KAAKpB,QAAN,CAAV,IAA6B,CAA5C;AACA,SAAK4B,KAAL,GAAc,KAAKpB,KAAL,KAAe,IAAf,IAAuB,KAAKA,KAAL,KAAe,MAAvC,GAAiD,CAAjD,GAAqD,CAAlE;AACA,SAAKqB,GAAL,GAAW,KAAKxB,OAAhB;AACA,SAAKyB,GAAL,GAAW,KAAKxB,IAAhB;AACA,SAAKyB,KAAL,GAAa,KAAKxB,QAAL,KAAkB,KAAlB,GAA0B,KAA1B,GAAkC,KAA/C;;AACA,QAAI,KAAKgB,IAAL,IAAW,CAAC,KAAKF,SAArB,EAAgC;AAC/B,WAAKlC,EAAL,GAAU,KAAV;AACA,WAAKC,EAAL,GAAU,MAAV;AACA,KAHD,MAGO;AACN,WAAKD,EAAL,GAAU,KAAV;AACA,WAAKC,EAAL,GAAU,MAAV;AACA;;AAED,QAAI,KAAKwC,KAAT,EAAgB;AACf,WAAKI,aAAL;AACA,KAFD,MAEO;AACNjB,SAAG,CAACkB,UAAJ,CAAe;AACdC,YAAI,EAAE,gBAAI;AACT,eAAI,CAACN,KAAL,GAAa,CAAb;AACA,SAHa;AAIdO,eAAO,EAAE,mBAAI;AACZ,eAAI,CAACP,KAAL,GAAa,CAAb;AACA,SANa;AAOdQ,gBAAQ,EAAE,kBAACC,GAAD,EAAS;AAClB,eAAI,CAACL,aAAL;AACA;AATa,OAAf;AAWYjB,SAAG,CAACuB,UAAJ;AACH;;AACDC,WAAO,CAACC,GAAR,CAAY,YAAZ,EAAyB,KAAKZ,KAA9B;AACT,GAxFa;AAyFda,SAAO,EAAE;AACRT,iBADQ,2BACQ;AACf,UAAIU,OAAO,GAAG3B,GAAG,CAAC4B,iBAAJ,EAAd;AACA,WAAKC,QAAL,GAAgBF,OAAO,CAACE,QAAxB;AACA,WAAKC,EAAL,GAAUH,OAAO,CAACI,WAAlB;AACYP,aAAO,CAACC,GAAR,CAAY,IAAZ,EAAiB,KAAKI,QAAtB;AAKZ,WAAKG,OAAL,GAAe,CAAf;AAiBA,WAAKC,EAAL,GAAUN,OAAO,CAACO,YAAlB;AACA,UAAG,CAAC,KAAKrB,KAAT,EAAgB,KAAKoB,EAAL,IAAWvE,EAAX;;AACJ,UAAG,KAAKmE,QAAL,IAAe,KAAlB,EAAwB;AACpB,aAAKhE,GAAL,GAAY,KAAKoE,EAAL,GAAUvE,EAAV,GAAa,EAAd,GAAqB,IAAhC;AACH,OAFD,MAEM,IAAG,KAAKmE,QAAL,IAAe,UAAlB,EAA6B;AAC/B,aAAKhE,GAAL,GAAY,KAAKoE,EAAL,GAAUvE,EAAX,GAAkB,IAA7B;AACH,OAFK,MAED;AACD,aAAKG,GAAL,GAAY,KAAKoE,EAAL,GAAUvE,EAAV,GAAa,EAAd,GAAqB,IAAhC;AACH;;AAGb,WAAKY,EAAL,GAAU,KAAKT,GAAf;AAKA,WAAKsE,OAAL,GAAe,KAAKL,EAAL,GAAU,GAAzB;AAEA,UAAIM,KAAK,GAAG,KAAKzD,WAAjB;;AACA,UAAIyD,KAAK,IAAIA,KAAK,KAAK,IAAnB,KAA4BA,KAAK,GAAGA,KAAK,CAACC,IAAN,EAApC,CAAJ,EAAuD;AACtDD,aAAK,GAAGA,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAR;AACA,YAAIC,GAAG,GAAG,EAAV;;AAFsD,mDAGxCH,KAHwC;AAAA;;AAAA;AAGtD,8DAAqB;AAAA,gBAAZI,CAAY;AACpB,gBAAI,CAACA,CAAL,EAAQ;AACRA,aAAC,GAAGA,CAAC,CAACH,IAAF,GAASC,KAAT,CAAe,GAAf,CAAJ;;AACA,gBAAIE,CAAC,CAAC,CAAD,CAAD,CAAKC,QAAL,GAAgBC,OAAhB,CAAwB,KAAxB,KAAkC,CAAtC,EAAyC;AACxC,kBAAIC,GAAG,GAAGH,CAAC,CAAC,CAAD,CAAD,CAAKH,IAAL,GAAYC,KAAZ,CAAkB,GAAlB,CAAV;;AACA,mBAAK,IAAIM,CAAT,IAAcD,GAAd,EAAmB;AAClB,oBAAI,CAACA,GAAG,CAACC,CAAD,CAAR,EAAa;;AACb,oBAAID,GAAG,CAACC,CAAD,CAAH,CAAOH,QAAP,GAAkBC,OAAlB,CAA0B,KAA1B,KAAoC,CAAxC,EAA2C;AAC1CC,qBAAG,CAACC,CAAD,CAAH,GAASvC,UAAU,CAACsC,GAAG,CAACC,CAAD,CAAJ,CAAV,GAAqB,KAAKT,OAA1B,GAAoC,IAA7C;AACA;AACD;;AACDK,eAAC,CAAC,CAAD,CAAD,GAAOG,GAAG,CAACE,IAAJ,CAAS,GAAT,CAAP;AACA;;AACDN,eAAG,CAACC,CAAC,CAAC,CAAD,CAAD,CAAKH,IAAL,EAAD,CAAH,GAAmBG,CAAC,CAAC,CAAD,CAAD,CAAKH,IAAL,EAAnB;AACA;AAjBqD;AAAA;AAAA;AAAA;AAAA;;AAkBtD,aAAKpE,EAAL,GAAUsE,GAAV;AACA;;AAED,WAAKzD,QAAL,KAAkB,KAAKgE,EAAL,GAAU,KAAKhE,QAAL,CAAc2D,QAAd,GAAyBC,OAAzB,CAAiC,KAAjC,KAA2C,CAA3C,GAA+CK,QAAQ,CAAC,KAAKjE,QAAN,CAAR,GAA0B,KAAKqD,OAA9E,GAC3BY,QAAQ,CAAC,KAAKjE,QAAN,CADT;AAEA,WAAKC,SAAL,KAAmB,KAAKiE,EAAL,GAAU,KAAKjE,SAAL,CAAe0D,QAAf,GAA0BC,OAA1B,CAAkC,KAAlC,KAA4C,CAA5C,GAAgDK,QAAQ,CAAC,KAAKhE,SAAN,CAAR,GAA2B,KAAKoD,OAAhF,GAC5BY,QAAQ,CAAC,KAAKhE,SAAN,CADT;;AAGA,UAAI,KAAKjB,EAAL,KAAY,MAAhB,EAAwB;AACvB,aAAKmF,SAAL,CAAe,IAAf;AACA;;AACD,WAAKC,QAAL;AACA,KA5EO;AA6ERC,WA7EQ,qBA6EE;AAAA;;AACT,UAAI,KAAKC,UAAT,EAAqB;AACrB,WAAKA,UAAL,GAAkB,IAAlB;AACAC,gBAAU,CAAC,YAAM;AAChB,cAAI,CAACD,UAAL,GAAkB,KAAlB;AACA,OAFS,EAEP,GAFO,CAAV;AAIApD,SAAG,CAACsD,WAAJ,CAAgB;AACfC,aAAK,EAAE,CADQ;AAEfC,gBAAQ,EAAE,CAAC,UAAD,EAAa,YAAb,CAFK;AAGfC,kBAAU,EAAE,CAAC,OAAD,CAHG;AAGO;AACtBrC,eAAO,EAAE,iBAACsC,CAAD,EAAO;AAKf1D,aAAG,CAAC2D,WAAJ,CAAgB;AACfC,iBAAK,EAAE,QADQ;AAEfC,gBAAI,EAAE;AAFS,WAAhB;AAKkB,cAAIC,IAAI,GAAG,MAAI,CAACC,OAAL,GAAeL,CAAC,CAACM,aAAF,CAAgB,CAAhB,CAA1B;AAClBhE,aAAG,CAACiE,YAAJ,CAAiB;AAChBC,eAAG,EAAEJ,IADW;AAEhB1C,mBAAO,EAAE,iBAAAsC,CAAC,EAAI;AACb,oBAAI,CAACS,QAAL,GAAgBT,CAAC,CAACU,KAAlB;AACA,oBAAI,CAACC,SAAL,GAAiBX,CAAC,CAACY,MAAnB;AACA,oBAAI,CAACR,IAAL,GAAYA,IAAZ;;AACA,kBAAI,CAAC,MAAI,CAACS,MAAV,EAAkB;AACjB,oBAAInC,KAAK,GAAG,MAAI,CAAClE,EAAL,IAAW,EAAvB;;AACA,oBAAI,MAAI,CAACU,QAAL,IAAiB,MAAI,CAACC,SAA1B,EAAqC;AACpC,sBAAI2F,EAAE,GAAG,MAAI,CAAC5F,QAAL,CAAc6D,QAAd,GAAyBC,OAAzB,CAAiC,KAAjC,KAA2C,CAA3C,GAA+CK,QAAQ,CAAC,MAAI,CAACnE,QAAN,CAAR,GAA0B,MAAI,CAACuD,OAA9E,GAAwFY,QAAQ,CACvG,MAAI,CAACnE,QADkG,CAAzG;AAAA,sBAEC6F,EAAE,GAAG,MAAI,CAAC5F,SAAL,CAAe4D,QAAf,GAA0BC,OAA1B,CAAkC,KAAlC,KAA4C,CAA5C,GAAgDK,QAAQ,CAAC,MAAI,CAAClE,SAAN,CAAR,GAA2B,MAAI,CAACsD,OAAhF,GAA0FY,QAAQ,CACtG,MAAI,CAAClE,SADiG,CAFxG;AAIAuD,uBAAK,CAACgC,KAAN,GAAcI,EAAE,GAAG,IAAnB;AACApC,uBAAK,CAACkC,MAAN,GAAeG,EAAE,GAAG,IAApB;AACArC,uBAAK,CAACsC,GAAN,GAAY,CAAE,MAAI,CAACzC,EAAL,GAAUwC,EAAV,GAAe/G,EAAhB,GAAoB,CAArB,IAA0B,CAA1B,GAA8B,IAA1C;AACA0E,uBAAK,CAACuC,IAAN,GAAa,CAAE,MAAI,CAAC7C,EAAL,GAAU0C,EAAX,GAAe,CAAhB,IAAqB,CAArB,GAAyB,IAAtC;AACA,iBATD,MASO;AACNxE,qBAAG,CAAC4E,SAAJ,CAAc;AACbhB,yBAAK,EAAE,aADM;AAEbiB,8BAAU,EAAE;AAFC,mBAAd;AAIA;AACA;;AACD,sBAAI,CAAC3G,EAAL,GAAUkE,KAAV;AACA;;AAED,kBAAI,MAAI,CAACvB,KAAT,EAAgB;AACf,sBAAI,CAACoC,SAAL,CAAe,IAAf;AACA,eAFD,MAEO;AACNjD,mBAAG,CAACuB,UAAJ,CAAe;AACdF,0BAAQ,EAAE,oBAAM;AACf,0BAAI,CAAC4B,SAAL,CAAe,IAAf;AACA;AAHa,iBAAf;AAKA;AACD,aApCe;AAqChB9B,gBAAI,EAAE,gBAAM;AACXnB,iBAAG,CAAC8E,SAAJ,CAAc;AACblB,qBAAK,EAAE,SADM;AAEbmB,wBAAQ,EAAE;AAFG,eAAd;AAIA,aA1Ce;AA2ChB1D,oBA3CgB,sBA2CL;AACVrB,iBAAG,CAACgF,WAAJ;AACA;AA7Ce,WAAjB;AA+CA;AA9Dc,OAAhB;AAgEA,KApJO;AAqJRC,WArJQ,qBAqJE;AAAA;;AACT,UAAI,KAAKC,UAAT,EAAqB;AACrB,WAAKA,UAAL,GAAkB,IAAlB;AACA7B,gBAAU,CAAC,YAAM;AAChB,cAAI,CAAC6B,UAAL,GAAkB,KAAlB;AACA,OAFS,EAEP,IAFO,CAAV;AAGY,WAAKC,KAAL,CAAW,UAAX,EAAsB,KAAKpB,OAA3B,EANH,CAMsC;;AAE/C,UAAI3B,KAAK,GAAG,KAAKlE,EAAjB;AAAA,UACCkH,CAAC,GAAGrC,QAAQ,CAACX,KAAK,CAACuC,IAAP,CADb;AAAA,UAECU,CAAC,GAAGtC,QAAQ,CAACX,KAAK,CAACsC,GAAP,CAFb;AAAA,UAGCN,KAAK,GAAGrB,QAAQ,CAACX,KAAK,CAACgC,KAAP,CAHjB;AAAA,UAICE,MAAM,GAAGvB,QAAQ,CAACX,KAAK,CAACkC,MAAP,CAJlB;AAAA,UAKCxF,QAAQ,GAAG,KAAKgE,EAAL,IAAYsB,KAAK,GAAE,KAAKkB,UALpC;AAAA,UAMCvG,SAAS,GAAG,KAAKiE,EAAL,IAAYsB,MAAM,GAAE,KAAKgB,UANtC;AAYAtF,SAAG,CAAC2D,WAAJ,CAAgB;AACfC,aAAK,EAAE,QADQ;AAEfC,YAAI,EAAE;AAFS,OAAhB;AAMA,WAAK/F,EAAL,GAAU,MAAV;AACA,WAAKC,EAAL,GAAU,UAAV;AACA,WAAKwG,MAAL,GAAc,KAAd;AACA,WAAKrB,QAAL;AAuCAlD,SAAG,CAACuF,oBAAJ,CAAyB;AACxBH,SAAC,EAAEA,CADqB;AAExBC,SAAC,EAAEA,CAFqB;AAGxBjB,aAAK,EAAEA,KAHiB;AAIxBE,cAAM,EAAEA,MAJgB;AAKxBkB,iBAAS,EAAE1G,QALa;AAMxB2G,kBAAU,EAAE1G,SANY;AAOxB2G,gBAAQ,EAAE,eAPc;AAQxBlG,gBAAQ,EAAE,KAAKwB,KARS;AASxBrB,eAAO,EAAE,KAAKS,IATU;AAUxBgB,eAAO,EAAE,iBAACsC,CAAD,EAAO;AACfA,WAAC,GAAGA,CAAC,CAACiC,YAAN;;AAeA,gBAAI,CAACR,KAAL,CAAW,QAAX,EAAqB;AACpBS,kBAAM,EAAE,MAAI,CAACrH,MADO;AAEpBuF,gBAAI,EAAEJ,CAFc;AAGpB9D,iBAAK,EAAE,MAAI,CAACa,IAHQ;AAIpB7C,gBAAI,EAAE,MAAI,CAACiI,GAJS;AAKpBC,kBAAM,EAAE,MAAI,CAACA,MAAL,IAAe;AALH,WAArB;AAQA,SAlCuB;AAmCxB3E,YAAI,EAAE,cAACG,GAAD,EAAS;AAEdtB,aAAG,CAAC8E,SAAJ,CAAc;AACblB,iBAAK,EAAE,QADM;AAEbmB,oBAAQ,EAAE;AAFG,WAAd;AAIA,SAzCuB;AA0CxB1D,gBAAQ,EAAE,oBAAM;AAEfrB,aAAG,CAACgF,WAAJ;AACkB,gBAAI,CAACnE,KAAL,IAAcb,GAAG,CAACkB,UAAJ,EAAd;AACAlB,aAAG,CAACuB,UAAJ;;AAClB,gBAAI,CAAC4D,KAAL,CAAW,KAAX;AACA;AAhDuB,OAAzB,EAiDG,IAjDH;AAmDA,KA5QO;AA6QRY,cA7QQ,wBA6QK;AAAA;;AACZ,UAAI,KAAKC,aAAT,EAAwB;AACxB,WAAKA,aAAL,GAAqB,IAArB;AACA3C,gBAAU,CAAC,YAAM;AAChB,cAAI,CAAC2C,aAAL,GAAqB,KAArB;AACA,OAFS,EAEP,IAFO,CAAV;AAIA,UAAI5D,KAAK,GAAG,KAAKlE,EAAjB;AAAA,UACCsH,SAAS,GAAGzC,QAAQ,CAACX,KAAK,CAACgC,KAAP,CADrB;AAAA,UAECqB,UAAU,GAAG1C,QAAQ,CAACX,KAAK,CAACkC,MAAP,CAFtB;AAAA,UAGC2B,IAAI,GAAG,KAAKA,IAHb;AAAA,UAICC,IAAI,GAAG,KAAKA,IAJb;AAAA,UAKCC,QAAQ,GAAG,KAAKA,QALjB;AAAA,UAMCC,SAAS,GAAG,KAAKA,SANlB;AAAA,UAOCtH,QAAQ,GAAG,KAAKgE,EAAL,IAAYC,QAAQ,CAACX,KAAK,CAACgC,KAAP,CAAR,GAAwB,KAAKkB,UAPrD;AAAA,UAQCvG,SAAS,GAAG,KAAKiE,EAAL,IAAYD,QAAQ,CAACX,KAAK,CAACkC,MAAP,CAAR,GAAyB,KAAKgB,UARvD;AAcAtF,SAAG,CAAC2D,WAAJ,CAAgB;AACfC,aAAK,EAAE,QADQ;AAEfC,YAAI,EAAE;AAFS,OAAhB;AAMA,WAAK/F,EAAL,GAAU,MAAV;AACA,WAAKC,EAAL,GAAU,UAAV;AACA,WAAKwG,MAAL,GAAc,KAAd;AACA,WAAKrB,QAAL;AAuCAlD,SAAG,CAACuF,oBAAJ,CAAyB;AACxBH,SAAC,EAAEa,IADqB;AAExBZ,SAAC,EAAEa,IAFqB;AAGxB9B,aAAK,EAAE+B,QAHiB;AAIxB7B,cAAM,EAAE8B,SAJgB;AAKxBZ,iBAAS,EAAE1G,QALa;AAMxB2G,kBAAU,EAAE1G,SANY;AAOxB2G,gBAAQ,EAAE,YAPc;AAQxBlG,gBAAQ,EAAE,KAAKwB,KARS;AASxBrB,eAAO,EAAE,KAAKS,IATU;AAUxBgB,eAAO,EAAE,iBAACsC,CAAD,EAAO;AACfA,WAAC,GAAGA,CAAC,CAACiC,YAAN;;AAcA,gBAAI,CAACR,KAAL,CAAW,QAAX,EAAqB;AACpBS,kBAAM,EAAE,MAAI,CAACrH,MADO;AAEpBuF,gBAAI,EAAEJ,CAFc;AAGpB9D,iBAAK,EAAE,MAAI,CAACa,IAHQ;AAIpB7C,gBAAI,EAAE,MAAI,CAACiI,GAJS;AAKpBC,kBAAM,EAAE,MAAI,CAACA,MAAL,IAAe;AALH,WAArB;AAQA,SAjCuB;AAkCxB3E,YAAI,EAAE,gBAAM;AAEXnB,aAAG,CAAC8E,SAAJ,CAAc;AACblB,iBAAK,EAAE,WADM;AAEbmB,oBAAQ,EAAE;AAFG,WAAd;AAIA,SAxCuB;AAyCxB1D,gBAAQ,EAAE,oBAAM;AAEfrB,aAAG,CAACgF,WAAJ;AACkB,gBAAI,CAACnE,KAAL,IAAcb,GAAG,CAACkB,UAAJ,EAAd;AACAlB,aAAG,CAACuB,UAAJ;;AAClB,gBAAI,CAAC4D,KAAL,CAAW,KAAX;AACA;AA/CuB,OAAzB,EAgDG,IAhDH;AAkDA,KApYO;AAqYRlC,aArYQ,uBAqYe;AAAA;;AAAA,UAAboD,GAAa,uEAAP,KAAO;AACtB,UAAIC,QAAQ,GAAG,KAAKxE,EAApB;AAAA,UACCyE,SAAS,GAAG,KAAKtE,EADlB;AAAA,UAECkC,QAAQ,GAAG,KAAKA,QAFjB;AAAA,UAGCE,SAAS,GAAG,KAAKA,SAHlB;AAAA,UAICmC,QAAQ,GAAGrC,QAAQ,GAAGE,SAJvB;AAAA,UAKCoC,QAAQ,GAAGH,QAAQ,GAAG,EALvB;AAAA,UAMCI,SAAS,GAAGH,SAAS,GAAG7I,EAAZ,GAAiB,EAN9B;AAAA,UAOCiJ,QAAQ,GAAGF,QAAQ,GAAGC,SAPvB;AAAA,UAQClC,EAAE,GAAGzB,QAAQ,CAAC,KAAK7E,EAAL,CAAQkG,KAAT,CARd;AAAA,UASCK,EAAE,GAAG1B,QAAQ,CAAC,KAAK7E,EAAL,CAAQoG,MAAT,CATd;AAWA,WAAKsC,QAAL,GAAgB,CAAhB;AACA,WAAKC,SAAL,GAAiB,CAAjB;AACA,WAAKC,QAAL,GAAgB,CAAhB;AACA,WAAKC,SAAL,GAAiB,CAAjB;;AACA,cAAQ,KAAKjG,GAAb;AACC,aAAK,GAAL;AACC,eAAK8F,QAAL,GAAgB,CAAhB;AACA;;AACD,aAAK,GAAL;AACC,eAAKC,SAAL,GAAiB,CAAjB;AACA;;AACD,aAAK,MAAL;AACC,cAAIL,QAAQ,GAAG,CAAf,EAAkB,KAAKI,QAAL,GAAgB,CAAhB,CAAlB,KACK,KAAKC,SAAL,GAAiB,CAAjB;AACL;;AACD,aAAK,OAAL;AACC,cAAIL,QAAQ,GAAG,CAAf,EAAkB,KAAKK,SAAL,GAAiB,CAAjB,CAAlB,KACK,KAAKD,QAAL,GAAgB,CAAhB;AACL;;AACD,aAAK,SAAL;AACC,cAAIpC,EAAE,GAAGC,EAAT,EAAa,KAAKmC,QAAL,GAAgB,CAAhB,CAAb,KACK,KAAKC,SAAL,GAAiB,CAAjB;AACL;;AACD,aAAK,UAAL;AACC,cAAIrC,EAAE,GAAGC,EAAT,EAAa,KAAKoC,SAAL,GAAiB,CAAjB,CAAb,KACK,KAAKD,QAAL,GAAgB,CAAhB;AACL;AAtBF;;AAwBA,cAAQ,KAAK7F,GAAb;AACC,aAAK,GAAL;AACC,eAAK+F,QAAL,GAAgB,CAAhB;AACA;;AACD,aAAK,GAAL;AACC,eAAKC,SAAL,GAAiB,CAAjB;AACA;;AACD,aAAK,MAAL;AACC,cAAIP,QAAQ,GAAG,CAAf,EAAkB,KAAKM,QAAL,GAAgB,CAAhB,CAAlB,KACK,KAAKC,SAAL,GAAiB,CAAjB;AACL;;AACD,aAAK,OAAL;AACC,cAAIP,QAAQ,GAAG,CAAf,EAAkB,KAAKO,SAAL,GAAiB,CAAjB,CAAlB,KACK,KAAKD,QAAL,GAAgB,CAAhB;AACL;;AACD,aAAK,SAAL;AACC,cAAItC,EAAE,GAAGC,EAAT,EAAa,KAAKqC,QAAL,GAAgB,CAAhB,CAAb,KACK,KAAKC,SAAL,GAAiB,CAAjB;AACL;;AACD,aAAK,UAAL;AACC,cAAIvC,EAAE,GAAGC,EAAT,EAAa,KAAKsC,SAAL,GAAiB,CAAjB,CAAb,KACK,KAAKD,QAAL,GAAgB,CAAhB;AACL;AAtBF;;AAwBA,UAAI,KAAKF,QAAT,EAAmB;AAClBH,gBAAQ,GAAGjC,EAAX;AACAkC,iBAAS,GAAGD,QAAQ,GAAGD,QAAvB;AACA,OAHD,MAGO,IAAI,KAAKK,SAAT,EAAoB;AAC1BH,iBAAS,GAAGjC,EAAZ;AACAgC,gBAAQ,GAAGC,SAAS,GAAGF,QAAvB;AACA,OAHM,MAGA,IAAIA,QAAQ,GAAGG,QAAf,EAAyB;AAC/B,YAAItC,SAAS,GAAGqC,SAAhB,EAA2B;AAC1BD,kBAAQ,GAAGtC,QAAX;AACAuC,mBAAS,GAAGrC,SAAZ;AACA,SAHD,MAGO;AACNoC,kBAAQ,GAAGC,SAAS,GAAGF,QAAvB;AACA;AACD,OAPM,MAOA;AACN,YAAIrC,QAAQ,GAAGsC,QAAf,EAAyB;AACxBA,kBAAQ,GAAGtC,QAAX;AACAuC,mBAAS,GAAGrC,SAAZ;AACA,SAHD,MAGO;AACNqC,mBAAS,GAAGD,QAAQ,GAAGD,QAAvB;AACA;AACD;;AACD,UAAI,KAAKhG,IAAT,EAAe;AACd,YAAIiG,QAAQ,GAAGjC,EAAf,EAAmB;AAClBiC,kBAAQ,GAAGjC,EAAX;AACAkC,mBAAS,GAAGD,QAAQ,GAAGD,QAAvB;AACA,eAAKO,SAAL,GAAiB,CAAjB;AACA;;AACD,YAAIL,SAAS,GAAGjC,EAAhB,EAAoB;AACnBiC,mBAAS,GAAGjC,EAAZ;AACAgC,kBAAQ,GAAGC,SAAS,GAAGF,QAAvB;AACA,eAAKM,QAAL,GAAgB,CAAhB;AACA;AACD;;AAED,WAAKE,SAAL,GAAiB,CAAjB;AACA,WAAKC,SAAL,GAAiB,CAAjB;AACA,WAAKC,QAAL,GAAgB,CAACZ,QAAQ,GAAGG,QAAZ,IAAwB,CAAxB,GAA4B,CAA5C;AACA,WAAKU,SAAL,GAAiB,CAACZ,SAAS,GAAGG,SAAZ,GAAwBhJ,EAAzB,IAA+B,CAA/B,GAAmC,CAApD;AACA,WAAK+I,QAAL,GAAgBA,QAAQ,GAAG,CAA3B;AACA,WAAKC,SAAL,GAAiBA,SAAS,GAAG,CAA7B;AACA,WAAKU,OAAL,GAAe,KAAKF,QAAL,GAAgBT,QAAQ,GAAG,CAA1C;AACA,WAAKY,OAAL,GAAe,KAAKF,SAAL,GAAiBT,SAAS,GAAG,CAA5C;AACA,WAAKY,MAAL,GAAc,CAAd;AACA,WAAKC,MAAL,GAAc,CAAd;AAEA,UAAInF,KAAK,GAAG,KAAKlE,EAAjB;AAAA,UACCyG,IAAI,GAAG5B,QAAQ,CAACX,KAAK,CAACuC,IAAP,CADhB;AAAA,UAECD,GAAG,GAAG3B,QAAQ,CAACX,KAAK,CAACsC,GAAP,CAFf;AAAA,UAGCN,KAAK,GAAGrB,QAAQ,CAACX,KAAK,CAACgC,KAAP,CAHjB;AAAA,UAICE,MAAM,GAAGvB,QAAQ,CAACX,KAAK,CAACkC,MAAP,CAJlB;AAAA,UAKCkD,MAAM,GAAG,KAAKA,MALf;AAAA,UAMCC,UAAU,GAAG,KAAKA,UANnB;AAAA,UAOC1H,EAAE,GAAG,KAAKA,EAPX;AAAA,UAQCG,GAAG,GAAG,KAAKA,GARZ;AASAH,QAAE,CAAC2H,YAAH,CAAgB,OAAhB,EAtHsB,CAsHG;;AACbxH,SAAG,CAACyH,SAAJ;AACZzH,SAAG,CAAC0H,YAAJ,CAAiB,CAAjB;AACA1H,SAAG,CAAC2H,cAAJ,CAAmB,CAAnB,EAzHsB,CA0HtB;AACA;;AACA3H,SAAG,CAAC4H,SAAJ,CAAc,mCAAd,EAAmDnD,IAAnD,EAAyDD,GAAzD,EAA8DN,KAA9D,EAAqEE,MAArE;AACApE,SAAG,CAACwH,YAAJ,CAAiB,OAAjB,EA7HsB,CA6HI;;AAC1BxH,SAAG,CAAC2H,cAAJ,CAAmB,IAAnB;AACA3H,SAAG,CAAC6H,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,KAAKjG,EAAxB,EAA4B4C,GAA5B;AACAxE,SAAG,CAAC6H,QAAJ,CAAa,CAAb,EAAgBrD,GAAhB,EAAqBC,IAArB,EAA2BL,MAA3B;AACApE,SAAG,CAAC6H,QAAJ,CAAa,CAAb,EAAgBrD,GAAG,GAAGJ,MAAtB,EAA8B,KAAKxC,EAAnC,EAAuC,KAAKG,EAAL,GAAUqC,MAAV,GAAmBI,GAAnB,GAAyBhH,EAAhE;AACAwC,SAAG,CAAC6H,QAAJ,CAAapD,IAAI,GAAGP,KAApB,EAA2BM,GAA3B,EAAgC,KAAK5C,EAAL,GAAUsC,KAAV,GAAkBO,IAAlD,EAAwDL,MAAxD,EAlIsB,CAoIV;AACA;AACZ;AACA;AACY;AACA;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY;;AACZpE,SAAG,CAAC8H,MAAJ;AAEA9H,SAAG,CAAC+H,IAAJ,CAAS,KAAT,EAAgB,YAAM;AACrB,YAAI5B,GAAJ,EAAS;AACR,gBAAI,CAACvI,EAAL,GAAU,MAAV;AACA,gBAAI,CAACC,EAAL,GAAU,MAAI,CAACiE,OAAL,GAAe,IAAzB;;AACA,gBAAI,CAACkG,UAAL,CAAgB,IAAhB;AACA;AACD,OAND;AAOA,WAAK/C,KAAL,CAAW,MAAX;AACA,KAxiBO;AAyiBR+C,cAziBQ,wBAyiBgB;AAAA,UAAb7B,GAAa,uEAAP,KAAO;AACvB,UAAI8B,MAAM,GAAGC,IAAI,CAACC,GAAL,EAAb;AACA,UAAIF,MAAM,GAAG,KAAKG,MAAd,GAAuB,EAA3B,EAA+B;AAC/B,WAAKA,MAAL,GAAcH,MAAd;AAEA,UAAIpI,EAAE,GAAG,KAAKA,EAAd;AAAA,UACCoE,QAAQ,GAAG,KAAKsC,QAAL,GAAgB,KAAKO,SADjC;AAAA,UAEC3C,SAAS,GAAG,KAAKqC,SAAL,GAAiB,KAAKM,SAFnC;AAOAjH,QAAE,CAAC2H,YAAH,CAAgB,OAAhB,EAZuB,CAYE;;AACzB,UAAI,KAAK7H,OAAT,EAAkB;AAKjBE,UAAE,CAAC+H,SAAH,CAAa,KAAKjI,OAAlB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,KAAKiC,EAAtC,EAA0C,KAAKG,EAAL,GAAUvE,EAApD;AAEA,OAPD,MAOO;AACNqC,UAAE,CAACgI,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkB,KAAKjG,EAAvB,EAA2B,KAAKG,EAAL,GAAUvE,EAArC;AACA;;AAED,UAAI,KAAK8C,IAAT,EAAe;AACd,YAAI+H,EAAE,GAAG,KAAKjB,MAAL,IAAe,KAAKN,SAAL,GAAiB,CAAhC,CAAT;AAAA,YACCwB,EAAE,GAAG,KAAKjB,MAAL,IAAe,KAAKP,SAAL,GAAiB,CAAhC,CADN;AAGAjH,UAAE,CAAC0I,SAAH,CAAa,KAAKrB,OAAlB,EAA2B,KAAKC,OAAhC;AACAtH,UAAE,CAAC2I,MAAH,CAAU,KAAKzB,SAAL,GAAiB0B,IAAI,CAACC,EAAtB,GAA2B,GAArC;AACA7I,UAAE,CAAC+H,SAAH,CAAa,KAAK/D,OAAlB,EAA2B,KAAKmD,QAAL,GAAc,KAAKE,OAAnB,GAA2BmB,EAAtD,EAA0D,KAAKpB,SAAL,GAAe,KAAKE,OAApB,GAA4BmB,EAAtF,EAA0FrE,QAA1F,EAAoGE,SAApG;AAEA,OARD,MAQO;AACNtE,UAAE,CAAC0I,SAAH,CAAa,KAAKvB,QAAL,GAAgB/C,QAAQ,GAAG,CAAxC,EAA2C,KAAKgD,SAAL,GAAiB9C,SAAS,GAAG,CAAxE;AACAtE,UAAE,CAAC2I,MAAH,CAAU,KAAKzB,SAAL,GAAiB0B,IAAI,CAACC,EAAtB,GAA2B,GAArC;AACA7I,UAAE,CAAC+H,SAAH,CAAa,KAAK/D,OAAlB,EAA2B,CAACI,QAAD,GAAY,CAAvC,EAA0C,CAACE,SAAD,GAAa,CAAvD,EAA0DF,QAA1D,EAAoEE,SAApE;AACA;;AAEDtE,QAAE,CAACkI,IAAH,CAAQ,KAAR;AAKA,KAplBO;AAqlBRY,YArlBQ,sBAqlBG;AAAA;;AACV,UAAI,KAAKC,WAAT,EAAsB;AACtB,WAAKA,WAAL,GAAmB,IAAnB;AACAzF,gBAAU,CAAC,YAAM;AAChB,cAAI,CAACyF,WAAL,GAAmB,KAAnB;AACA,OAFS,EAEP,IAFO,CAAV;AAIA,UAAI1G,KAAK,GAAG,KAAKlE,EAAjB;AAAA,UACCkH,CAAC,GAAGrC,QAAQ,CAACX,KAAK,CAACuC,IAAP,CADb;AAAA,UAECU,CAAC,GAAGtC,QAAQ,CAACX,KAAK,CAACsC,GAAP,CAFb;AAAA,UAGCN,KAAK,GAAGrB,QAAQ,CAACX,KAAK,CAACgC,KAAP,CAHjB;AAAA,UAICE,MAAM,GAAGvB,QAAQ,CAACX,KAAK,CAACkC,MAAP,CAJlB;AAUAtE,SAAG,CAAC2D,WAAJ,CAAgB;AACfC,aAAK,EAAE,QADQ;AAEfC,YAAI,EAAE;AAFS,OAAhB;AA2DA7D,SAAG,CAACuF,oBAAJ,CAAyB;AACxBH,SAAC,EAAEA,CADqB;AAExBC,SAAC,EAAEA,CAFqB;AAGxBjB,aAAK,EAAEA,KAHiB;AAIxBE,cAAM,EAAEA,MAJgB;AAKxBxF,gBAAQ,EAAEsF,KAAK,GAAG,KAAKkB,UALC;AAMxBvG,iBAAS,EAAEuF,MAAM,GAAG,KAAKgB,UAND;AAOxBI,gBAAQ,EAAE,eAPc;AAQxBlG,gBAAQ,EAAE,KAAKwB,KARS;AASxBrB,eAAO,EAAE,KAAKS,IATU;AAUxBgB,eAAO,EAAE,iBAACsC,CAAD,EAAO;AACf,gBAAI,CAACqF,SAAL,GAAiBrF,CAAC,GAAGA,CAAC,CAACiC,YAAvB;AAEA,cAAIxF,GAAG,GAAG,MAAI,CAACA,GAAf;AAAA,cACC8F,IAAI,GAAG,MAAI,CAACnE,EADb;AAAA,cAECoE,IAAI,GAAGnD,QAAQ,CAAC,MAAI,CAAClF,GAAN,CAFhB;AAaA,cAAIsI,QAAQ,GAAGpD,QAAQ,CAAC,MAAI,CAAC7E,EAAL,CAAQkG,KAAT,CAAvB;AAAA,cACCgC,SAAS,GAAGrD,QAAQ,CAAC,MAAI,CAAC7E,EAAL,CAAQoG,MAAT,CADrB;AAAA,cAECmC,QAAQ,GAAGR,IAAI,GAAG,EAFnB;AAAA,cAGCS,SAAS,GAAGR,IAAI,GAAG,EAHpB;AAAA,cAIC8C,KAAK,GAAGvC,QAAQ,GAAGN,QAJpB;AAAA,cAKC8C,OAAO,GAAG7C,SAAS,GAAG4C,KALvB;;AAMA,cAAIC,OAAO,GAAGvC,SAAd,EAAyB;AACxBP,oBAAQ,GAAGM,QAAX;AACAL,qBAAS,GAAG6C,OAAZ;AACA,WAHD,MAGO;AACND,iBAAK,GAAGtC,SAAS,GAAGN,SAApB;AACAD,oBAAQ,IAAI6C,KAAZ;AACA5C,qBAAS,GAAGM,SAAZ;AACA;;AAEDvG,aAAG,CAAC4H,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB9B,IAAnB,EAAyBC,IAAzB;AACA,gBAAI,CAACD,IAAL,GAAYA,IAAI,GAAI,CAACA,IAAI,GAAGE,QAAR,IAAoB,CAArB,GAA0B,CAA7C;AACA,gBAAI,CAACD,IAAL,GAAYA,IAAI,GAAI,CAACA,IAAI,GAAGE,SAAR,IAAqB,CAAtB,GAA2B,CAA9C;AACA,gBAAI,CAACD,QAAL,GAAgBA,QAAQ,GAAGA,QAAQ,GAAG,CAAtC;AACA,gBAAI,CAACC,SAAL,GAAiBA,SAAS,GAAGA,SAAS,GAAG,CAAzC;AACAjG,aAAG,CAAC2H,SAAJ,CAAcpE,CAAd,EAAiBuC,IAAjB,EAAuBC,IAAvB,EAA6BC,QAA7B,EAAuCC,SAAvC;AACAjG,aAAG,CAAC8H,IAAJ,CAAS,KAAT;AAUA,gBAAI,CAAC9J,EAAL,GAAU,KAAV,CA/Ce,CAgDf;;AACA,gBAAI,CAACH,EAAL,GAAU,MAAI,CAACgE,OAAL,GAAe,IAAzB;AACA,SA5DuB;AA6DxBb,YAAI,EAAE,gBAAM;AACXnB,aAAG,CAAC8E,SAAJ,CAAc;AACblB,iBAAK,EAAE,QADM;AAEbmB,oBAAQ,EAAE;AAFG,WAAd;AAIA,SAlEuB;AAmExB1D,gBAAQ,EAAE,oBAAM;AACfrB,aAAG,CAACgF,WAAJ;AACA;AArEuB,OAAzB,EAsEG,IAtEH;AAwEA,KAzuBO;AA0uBRkE,cA1uBQ,wBA0uB4D;AAAA,UAAzDtJ,KAAyD,uEAAjDc,SAAiD;AAAA,UAAtCyI,MAAsC,uEAA7BzI,SAA6B;AAAA,UAAlB9C,IAAkB,uEAAX8C,SAAW;;AACnE,UAAIyI,MAAJ,EAAY;AACX,YAAI3E,EAAE,GAAG2E,MAAM,CAACvK,QAAhB;AAAA,YACC6F,EAAE,GAAG0E,MAAM,CAACtK,SADb;AAAA,YAECC,QAAQ,GAAGqK,MAAM,CAACrK,QAFnB;AAAA,YAGCC,SAAS,GAAGoK,MAAM,CAACpK,SAHpB;AAAA,YAICY,OAAO,GAAGwJ,MAAM,CAACxJ,OAJlB;AAAA,YAKCR,SAAS,GAAGgK,MAAM,CAAChK,SALpB;AAAA,YAMCD,QAAQ,GAAGiK,MAAM,CAACjK,QANnB;AAAA,YAOCF,QAAQ,GAAGmK,MAAM,CAACnK,QAPnB;AAAA,YAQCC,QAAQ,GAAGkK,MAAM,CAAClK,QARnB;AAAA,YASCK,OAAO,GAAG6J,MAAM,CAAC7J,OATlB;AAAA,YAUCE,QAAQ,GAAG2J,MAAM,CAAC3J,QAVnB;AAAA,YAWCE,KAAK,GAAGyJ,MAAM,CAACzJ,KAXhB;AAAA,YAYCH,IAAI,GAAG4J,MAAM,CAAC5J,IAZf;AAcAT,gBAAQ,KAAK,KAAKgE,EAAL,GAAUhE,QAAQ,CAAC2D,QAAT,GAAoBC,OAApB,CAA4B,KAA5B,KAAsC,CAAtC,GAA0CK,QAAQ,CAACjE,QAAD,CAAR,GAAqB,KAAKqD,OAApE,GAA8EY,QAAQ,CAC5GjE,QAD4G,CAArG,CAAR;AAEAC,iBAAS,KAAK,KAAKiE,EAAL,GAAUjE,SAAS,CAAC0D,QAAV,GAAqBC,OAArB,CAA6B,KAA7B,KAAuC,CAAvC,GAA2CK,QAAQ,CAAChE,SAAD,CAAR,GAAsB,KAAKoD,OAAtE,GAAgFY,QAAQ,CAC/GhE,SAD+G,CAAvG,CAAT;AAEA,aAAKuB,SAAL,GAAkBnB,SAAS,KAAK,KAAd,IAAuBO,KAAK,KAAK,IAAjC,IAAyCA,KAAK,KAAK,MAAnD,IAA6DP,SAAS,KAAK,OAA5E,GAAuF,CAAvF,GAA2F,CAA5G;AACA,aAAKoB,QAAL,GAAiBrB,QAAQ,KAAK,KAAb,IAAsBA,QAAQ,KAAK,OAApC,GAA+C,CAA/C,GAAmD,CAAnE;AACA,aAAKkB,IAAL,GAAYC,UAAU,CAACV,OAAD,CAAV,IAAuB,CAAnC;AACA,aAAKgB,OAAL,GAAeN,UAAU,CAACrB,QAAD,CAAV,IAAwB,GAAvC;AACA,aAAK4B,OAAL,GAAeP,UAAU,CAACpB,QAAD,CAAV,IAAwB,CAAvC;AACA,aAAK6B,GAAL,GAAWxB,OAAX;AACA,aAAKkB,IAAL,GAAad,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,MAA7B,GAAuC,CAAvC,GAA2C,CAAvD;AACA,aAAKsB,KAAL,GAAaxB,QAAQ,KAAK,KAAb,GAAqB,KAArB,GAA6B,KAA1C;AACA,aAAKuB,GAAL,GAAWxB,IAAX;;AACA,YAAI,KAAKiB,IAAL,IAAW,CAAC,KAAKF,SAArB,EAAgC;AAC/B,eAAKlC,EAAL,GAAU,KAAV;AACA,eAAKC,EAAL,GAAU,MAAV;AACA,SAHD,MAGO;AACN,eAAKD,EAAL,GAAU,KAAV;AACA,eAAKC,EAAL,GAAU,MAAV;AACA;;AAED,YAAImG,EAAE,IAAIC,EAAV,EAAc;AACbD,YAAE,GAAGA,EAAE,CAAC/B,QAAH,GAAcC,OAAd,CAAsB,KAAtB,KAAgC,CAAhC,GAAoCK,QAAQ,CAACyB,EAAD,CAAR,GAAe,KAAKrC,OAAxD,GAAkEY,QAAQ,CAACyB,EAAD,CAA/E;AACAC,YAAE,GAAGA,EAAE,CAAChC,QAAH,GAAcC,OAAd,CAAsB,KAAtB,KAAgC,CAAhC,GAAoCK,QAAQ,CAAC0B,EAAD,CAAR,GAAe,KAAKtC,OAAxD,GAAkEY,QAAQ,CAAC0B,EAAD,CAA/E;AACA,eAAKvG,EAAL,CAAQkG,KAAR,GAAgBI,EAAE,GAAG,IAArB;AACA,eAAKtG,EAAL,CAAQoG,MAAR,GAAiBG,EAAE,GAAG,IAAtB;AACA,eAAKvG,EAAL,CAAQwG,GAAR,GAAc,CAAE,KAAKzC,EAAL,GAAUwC,EAAV,GAAe/G,EAAhB,GAAoB,CAArB,IAA0B,CAA1B,GAA8B,IAA5C;AACA,eAAKQ,EAAL,CAAQyG,IAAR,GAAe,CAAE,KAAK7C,EAAL,GAAU0C,EAAX,GAAe,CAAhB,IAAqB,CAArB,GAAyB,IAAxC;AACA,eAAKD,MAAL,GAAc,IAAd;AACA;AACD;;AACD,WAAKsB,GAAL,GAAWjI,IAAX;AACA,WAAK6C,IAAL,GAAYb,KAAZ;AACA,WAAKuD,OAAL;AACA,KA5xBO;AA6xBRiG,WA7xBQ,qBA6xBE;AACT,WAAKnC,SAAL,IAAkB,KAAK,KAAKA,SAAL,GAAiB,EAAxC;AACA,WAAKiB,UAAL;AACA,KAhyBO;AAiyBRmB,UAjyBQ,kBAiyBDC,CAjyBC,EAiyBE;AACT,UAAIC,OAAO,GAAGD,CAAC,CAACC,OAAhB;AAAA,UACCC,MAAM,GAAGD,OAAO,CAAC,CAAD,CADjB;AAAA,UAECE,MAAM,GAAGF,OAAO,CAAC,CAAD,CAFjB;AAIA,WAAKC,MAAL,GAAcA,MAAd;AACA,WAAKC,MAAL,GAAcA,MAAd;;AAEA,UAAIA,MAAJ,EAAY;AACX,YAAIrE,CAAC,GAAGqE,MAAM,CAACrE,CAAP,GAAWoE,MAAM,CAACpE,CAA1B;AAAA,YACCC,CAAC,GAAGoE,MAAM,CAACpE,CAAP,GAAWmE,MAAM,CAACnE,CADvB;AAEA,aAAKqE,UAAL,GAAkBf,IAAI,CAACgB,IAAL,CAAUvE,CAAC,GAAGA,CAAJ,GAAQC,CAAC,GAAGA,CAAtB,CAAlB;AACA;AACD,KA9yBO;AA+yBRuE,SA/yBQ,iBA+yBFN,CA/yBE,EA+yBC;AACR,UAAIC,OAAO,GAAGD,CAAC,CAACC,OAAhB;AAAA,UACCC,MAAM,GAAGD,OAAO,CAAC,CAAD,CADjB;AAAA,UAECE,MAAM,GAAGF,OAAO,CAAC,CAAD,CAFjB;;AAIA,UAAIE,MAAJ,EAAY;AACX,YAAIrE,CAAC,GAAGqE,MAAM,CAACrE,CAAP,GAAWoE,MAAM,CAACpE,CAA1B;AAAA,YACCC,CAAC,GAAGoE,MAAM,CAACpE,CAAP,GAAWmE,MAAM,CAACnE,CADvB;AAAA,YAECqE,UAAU,GAAGf,IAAI,CAACgB,IAAL,CAAUvE,CAAC,GAAGA,CAAJ,GAAQC,CAAC,GAAGA,CAAtB,CAFd;AAAA,YAGC2B,SAAS,GAAG,SAAS0C,UAAU,GAAG,KAAKA,UAA3B,CAHb;AAAA,YAICG,WAAW,GAAG,KAAK7C,SAAL,GAAiBA,SAJhC;;AAMA,WAAG;AACF,cAAI,CAAC,KAAKzG,QAAV,EAAoB;AACpB,cAAIsJ,WAAW,GAAG,KAAKlJ,OAAvB,EAAgC;AAChC,cAAIkJ,WAAW,GAAG,KAAKjJ,OAAvB,EAAgC;AAEhC,cAAIkJ,KAAK,GAAG,KAAKrD,QAAL,GAAgBO,SAAhB,GAA4B,CAAxC;AAAA,cACC+C,KAAK,GAAG,KAAKrD,SAAL,GAAiBM,SAAjB,GAA6B,CADtC;;AAEA,cAAI,KAAKxG,IAAT,EAAe;AACd,gBAAI2D,QAAQ,GAAG,KAAKsC,QAAL,GAAgBoD,WAA/B;AAAA,gBACCxF,SAAS,GAAG,KAAKqC,SAAL,GAAiBmD,WAD9B;AAAA,gBAECG,CAAC,GAAG,KAAK9C,QAAL,GAAgB4C,KAFrB;AAAA,gBAGCG,CAAC,GAAG,KAAK9C,SAAL,GAAiB4C,KAHtB;AAAA,gBAICrG,CAAC,GAAGsG,CAAC,GAAG7F,QAJT;AAAA,gBAKC+F,CAAC,GAAGD,CAAC,GAAG5F,SALT;AAAA,gBAMCM,IAAI,GAAG5B,QAAQ,CAAC,KAAK7E,EAAL,CAAQyG,IAAT,CANhB;AAAA,gBAOCD,GAAG,GAAG3B,QAAQ,CAAC,KAAK7E,EAAL,CAAQwG,GAAT,CAPf;AAAA,gBAQCN,KAAK,GAAGrB,QAAQ,CAAC,KAAK7E,EAAL,CAAQkG,KAAT,CARjB;AAAA,gBASCE,MAAM,GAAGvB,QAAQ,CAAC,KAAK7E,EAAL,CAAQoG,MAAT,CATlB;AAAA,gBAUC6F,KAAK,GAAGxF,IAAI,GAAGP,KAVhB;AAAA,gBAWCgG,MAAM,GAAG1F,GAAG,GAAGJ,MAXhB;AAAA,gBAYCiE,EAAE,SAZH;AAAA,gBAYKC,EAAE,SAZP;AAcA,gBAAIrE,QAAQ,IAAIC,KAAZ,IAAqBC,SAAS,IAAIC,MAAtC,EAA8C;AAC9C,iBAAKiE,EAAL,GAAUA,EAAE,GAAG,KAAKjB,MAAL,GAAcuC,WAAd,GAA4B,KAAKvC,MAAhD,EACC,KAAKkB,EAAL,GAAUA,EAAE,GAAG,KAAKjB,MAAL,GAAcsC,WAAd,GAA4B,KAAKtC,MADjD;AAEA,iBAAKL,QAAL,IAAiB4C,KAAjB;AACA,iBAAK3C,SAAL,IAAkB4C,KAAlB;;AACA,gBAAI,KAAK7C,QAAL,GAAgBqB,EAAhB,GAAqB5D,IAAzB,EAA+B;AAC9B,mBAAKuC,QAAL,GAAgBvC,IAAI,GAAG4D,EAAvB;AACA;;AACD,gBAAI,KAAKrB,QAAL,GAAgB/C,QAAhB,GAA2BoE,EAA3B,GAAgC4B,KAApC,EAA2C;AAC1C,mBAAKjD,QAAL,GAAgBiD,KAAK,GAAGhG,QAAR,GAAmBoE,EAAnC;AACA;;AACD,gBAAI,KAAKpB,SAAL,GAAiBqB,EAAjB,GAAsB9D,GAA1B,EAA+B;AAC9B,mBAAKyC,SAAL,GAAiBzC,GAAG,GAAG8D,EAAvB;AACA;;AACD,gBAAI,KAAKrB,SAAL,GAAiB9C,SAAjB,GAA6BmE,EAA7B,GAAkC4B,MAAtC,EAA8C;AAC7C,mBAAKjD,SAAL,GAAiBiD,MAAM,GAAG/F,SAAT,GAAqBmE,EAAtC;AACA;AACD,WAhCD,MAgCO;AACN,iBAAKtB,QAAL,IAAiB4C,KAAjB;AACA,iBAAK3C,SAAL,IAAkB4C,KAAlB;AACA;;AAED,eAAK/C,SAAL,GAAiB6C,WAAjB;AACA,SA7CD,QA6CS,CA7CT;;AA8CA,aAAKH,UAAL,GAAkBA,UAAlB;;AACA,YAAID,MAAM,CAACrE,CAAP,KAAaoE,MAAM,CAACpE,CAApB,IAAyB,KAAK9E,SAAlC,EAA6C;AAC5C8E,WAAC,GAAG,CAAC,KAAKqE,MAAL,CAAYpE,CAAZ,GAAgB,KAAKmE,MAAL,CAAYnE,CAA7B,KAAmC,KAAKoE,MAAL,CAAYrE,CAAZ,GAAgB,KAAKoE,MAAL,CAAYpE,CAA/D,CAAJ;AACAC,WAAC,GAAG,CAACoE,MAAM,CAACpE,CAAP,GAAWmE,MAAM,CAACnE,CAAnB,KAAyBoE,MAAM,CAACrE,CAAP,GAAWoE,MAAM,CAACpE,CAA3C,CAAJ;AACA,eAAK6B,SAAL,IAAkB0B,IAAI,CAAC0B,IAAL,CAAU,CAAChF,CAAC,GAAGD,CAAL,KAAW,IAAIA,CAAC,GAAGC,CAAnB,CAAV,IAAmC,GAAnC,GAAyCsD,IAAI,CAACC,EAAhE;AACA,eAAKY,MAAL,GAAcA,MAAd;AACA,eAAKC,MAAL,GAAcA,MAAd;AACA;;AAED,aAAKvB,UAAL;AACA,OA/DD,MA+DO,IAAI,KAAKsB,MAAT,EAAiB;AACvB,YAAIpE,EAAC,GAAGoE,MAAM,CAACpE,CAAP,GAAW,KAAKoE,MAAL,CAAYpE,CAA/B;AAAA,YACCC,EAAC,GAAGmE,MAAM,CAACnE,CAAP,GAAW,KAAKmE,MAAL,CAAYnE,CAD5B;AAAA,YAECiF,GAAG,GAAG,KAAKpD,QAAL,GAAgB9B,EAFvB;AAAA,YAGCmF,GAAG,GAAG,KAAKpD,SAAL,GAAiB9B,EAHxB;;AAIA,YAAI,KAAK7E,IAAT,EAAe;AACd,cAAI2D,SAAQ,GAAG,KAAKsC,QAAL,GAAgB,KAAKO,SAApC;AAAA,cACC3C,UAAS,GAAG,KAAKqC,SAAL,GAAiB,KAAKM,SADnC;AAAA,cAECgD,EAAC,GAAGM,GAFL;AAAA,cAGCL,EAAC,GAAGM,GAHL;AAAA,cAIC7G,EAAC,GAAGsG,EAAC,GAAG7F,SAJT;AAAA,cAKC+F,EAAC,GAAGD,EAAC,GAAG5F,UALT;AAAA,cAMCM,KAAI,GAAG5B,QAAQ,CAAC,KAAK7E,EAAL,CAAQyG,IAAT,CANhB;AAAA,cAOCD,IAAG,GAAG3B,QAAQ,CAAC,KAAK7E,EAAL,CAAQwG,GAAT,CAPf;AAAA,cAQCyF,MAAK,GAAGxF,KAAI,GAAG5B,QAAQ,CAAC,KAAK7E,EAAL,CAAQkG,KAAT,CARxB;AAAA,cASCgG,OAAM,GAAG1F,IAAG,GAAG3B,QAAQ,CAAC,KAAK7E,EAAL,CAAQoG,MAAT,CATxB;AAAA,cAUCiE,GAVD;AAAA,cAUKC,GAVL;;AAYA,eAAKD,EAAL,GAAUA,GAAE,GAAG,KAAKjB,MAAL,GAAc,KAAKN,SAAnB,GAA+B,KAAKM,MAAnD;AACA,eAAKkB,EAAL,GAAUA,GAAE,GAAG,KAAKjB,MAAL,GAAc,KAAKP,SAAnB,GAA+B,KAAKO,MAAnD;;AAEA,cAAI,CAAC,KAAKT,QAAN,IAAkB6B,IAAI,CAAC6B,GAAL,CAASpF,EAAT,IAAc,GAApC,EAAyC;AACxC,gBAAIT,KAAI,GAAGqF,EAAC,GAAGzB,GAAf,EAAmB;AAClB,mBAAKrB,QAAL,GAAgBvC,KAAI,GAAG4D,GAAvB;AACA,aAFD,MAEO,IAAI4B,MAAK,GAAGzG,EAAC,GAAG6E,GAAhB,EAAoB;AAC1B,mBAAKrB,QAAL,GAAgBiD,MAAK,GAAGhG,SAAR,GAAmBoE,GAAnC;AACA,aAFM,MAEA;AACN,mBAAKrB,QAAL,GAAgBoD,GAAhB;AACA,mBAAKhD,MAAL,IAAelC,EAAf;AACA;AACD;;AACD,cAAI,CAAC,KAAK2B,SAAN,IAAmB4B,IAAI,CAAC6B,GAAL,CAASnF,EAAT,IAAc,GAArC,EAA0C;AACzC,gBAAIX,IAAG,GAAGuF,EAAC,GAAGzB,GAAd,EAAkB;AACjB,mBAAKjB,MAAL,IAAgB7C,IAAG,GAAG8D,GAAN,GAAW,KAAKrB,SAAhC;AACA,mBAAKA,SAAL,GAAiBzC,IAAG,GAAG8D,GAAvB;AACA,aAHD,MAGO,IAAI4B,OAAM,GAAGF,EAAC,GAAG1B,GAAjB,EAAqB;AAC3B,mBAAKjB,MAAL,IAAgB6C,OAAM,GAAG5B,GAAT,IAAe,KAAKrB,SAAL,GAAiB9C,UAAhC,CAAhB;AACA,mBAAK8C,SAAL,GAAiBiD,OAAM,GAAG/F,UAAT,GAAqBmE,GAAtC;AACA,aAHM,MAGA;AACN,mBAAKrB,SAAL,GAAiBoD,GAAjB;AACA,mBAAKhD,MAAL,IAAelC,EAAf;AACA;AACD;AACD,SAtCD,MAsCO;AACN,cAAIsD,IAAI,CAAC6B,GAAL,CAASpF,EAAT,IAAc,GAAd,IAAqB,CAAC,KAAK0B,QAA/B,EAAyC,KAAKI,QAAL,GAAgBoD,GAAhB;AACzC,cAAI3B,IAAI,CAAC6B,GAAL,CAASnF,EAAT,IAAc,GAAd,IAAqB,CAAC,KAAK0B,SAA/B,EAA0C,KAAKI,SAAL,GAAiBoD,GAAjB;AAC1C,eAAKjD,MAAL,IAAelC,EAAf;AACA,eAAKmC,MAAL,IAAelC,EAAf;AACA;;AAED,aAAKmE,MAAL,GAAcA,MAAd;AACA,aAAKtB,UAAL;AACA;AACD,KAx6BO;AAy6BRuC,QAz6BQ,gBAy6BHnB,CAz6BG,EAy6BA;AACP,UAAIC,OAAO,GAAGD,CAAC,CAACC,OAAhB;AAAA,UACCC,MAAM,GAAGD,OAAO,IAAIA,OAAO,CAAC,CAAD,CAD5B;AAAA,UAECE,MAAM,GAAGF,OAAO,IAAIA,OAAO,CAAC,CAAD,CAF5B;;AAGA,UAAIC,MAAJ,EAAY;AACX,aAAKA,MAAL,GAAcA,MAAd;AACA,OAFD,MAEO;AACN,aAAKA,MAAL,GAAc,IAAd;AACA,aAAKC,MAAL,GAAc,IAAd;AACA;AACD,KAn7BO;AAo7BRvG,YAp7BQ,sBAo7BG;AACV,WAAKwH,MAAL,GAAc,EAAd;AACA,WAAK1M,EAAL,GAAU,UAAV;AACA,WAAKG,EAAL,GAAU,IAAV;AACA,WAAKwM,UAAL,GAAkB,IAAlB;AACA,WAAKC,MAAL,GAAc,IAAd;AACA,KA17BO;AA27BRC,UA37BQ,oBA27BC;AACR,WAAK/M,EAAL,GAAU,MAAV;AACA,WAAKC,EAAL,GAAU,UAAV;AACA,WAAKwG,MAAL,GAAc,KAAd;AACA,WAAKrB,QAAL;AACY,WAAKrC,KAAL,IAAcb,GAAG,CAACkB,UAAJ,EAAd;AACAlB,SAAG,CAACuB,UAAJ;AACZ,WAAK4D,KAAL,CAAW,KAAX;AACA,KAn8BO;AAo8BR2F,eAp8BQ,yBAo8BM;AAAA;;AACb,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,YAAIhF,IAAI,GAAG,MAAI,CAACA,IAAhB;AAAA,YACCC,IAAI,GAAG,MAAI,CAACA,IADb;AAAA,YAECC,QAAQ,GAAG,MAAI,CAACA,QAFjB;AAAA,YAGCC,SAAS,GAAG,MAAI,CAACA,SAHlB;AAmBApG,WAAG,CAACkL,kBAAJ,CAAuB;AACtBxF,kBAAQ,EAAE,YADY;AAEtBN,WAAC,EAAEa,IAFmB;AAGtBZ,WAAC,EAAEa,IAHmB;AAItB9B,eAAK,EAAE+B,QAJe;AAKtB7B,gBAAM,EAAE8B,SALc;AAMtBhF,iBANsB,mBAMdE,GANc,EAMT;AACZ0J,mBAAO,CAAC1J,GAAG,CAAC1D,IAAL,CAAP;AACA,WARqB;AAStBuD,cATsB,gBASjBgK,GATiB,EASZ;AACTF,kBAAM,CAACE,GAAD,CAAN;AACA;AAXqB,SAAvB,EAYG,MAZH;AAcA,OAlCM,CAAP;AAmCA,KAx+BO;AAy+BFC,gBAz+BE,wBAy+BW9B,CAz+BX,EAy+Bc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBnB,sBADiB,GACRC,IAAI,CAACC,GAAL,EADQ;;AAAA,sBAEjBF,MAAM,GAAG,MAAI,CAACkD,KAAd,GAAsB,GAFL;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAGrB,sBAAI,CAACA,KAAL,GAAalD,MAAb;AAMAnI,mBAAG,CAAC2D,WAAJ,CAAgB;AACfC,uBAAK,EAAE,QADQ;AAEfC,sBAAI,EAAE;AAFS,iBAAhB;;AATqB,oBAehB,MAAI,CAAC8G,UAfW;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAgBU,MAAI,CAACG,WAAL,GAAmBQ,KAAnB,CAAyB,YAAM;AAC3DtL,qBAAG,CAAC8E,SAAJ,CAAc;AACblB,yBAAK,EAAE,YADM;AAEbmB,4BAAQ,EAAE;AAFG,mBAAd;AAIA,iBAL4B,CAhBV;;AAAA;AAAA,oBAgBd,MAAI,CAAC4F,UAhBS;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAuBpB,sBAAI,CAACC,MAAL,GAAc,IAAIW,iBAAJ,CAAsB,MAAI,CAACZ,UAAL,CAAgBa,MAAtC,CAAd;;AAvBoB;AA0BjB5N,oBA1BiB,GA0BV,MAAI,CAAC+M,UA1BK,EA2BpBC,MA3BoB,GA2BX,MAAI,CAACA,MA3BM,EA4BpBa,CA5BoB,GA4BhBnC,CAAC,CAACoC,MAAF,CAASC,KA5BO;;AA+BrB,oBAAIF,CAAC,KAAK,CAAV,EAAa;AACZb,wBAAM,GAAGhN,IAAT;AACA,iBAFD,MAEO;AACN6N,mBAAC,GAAG,CAACA,CAAC,GAAG,GAAL,IAAY,GAAhB;AACA,sBAAIA,CAAC,GAAG,KAAR,EAAeA,CAAC,GAAG,CAAJ;AACf,sBAAIA,CAAC,GAAG,KAAR,EAAeA,CAAC,GAAG,CAAJ;;AACf,uBAASG,CAAT,GAAahO,IAAI,CAAC4N,MAAL,GAAc,CAA3B,EAA8BI,CAAC,IAAI,CAAnC,EAAsCA,CAAC,IAAI,CAA3C,EAA8C;AAC7ClI,qBAAC,GAAG9F,IAAI,CAACgO,CAAC,GAAG,CAAL,CAAJ,GAAc,GAAlB;AACAC,qBAAC,GAAGjO,IAAI,CAACgO,CAAC,GAAG,CAAL,CAAJ,GAAc,GAAlB;AACA1B,qBAAC,GAAGtM,IAAI,CAACgO,CAAC,GAAG,CAAL,CAAJ,GAAc,GAAlB;AACAE,uBAAG,GAAGnD,IAAI,CAACmD,GAAL,CAASpI,CAAT,EAAYmI,CAAZ,EAAe3B,CAAf,CAAN;AACA6B,uBAAG,GAAGpD,IAAI,CAACoD,GAAL,CAASrI,CAAT,EAAYmI,CAAZ,EAAe3B,CAAf,CAAN;AACA8B,qBAAC,GAAGF,GAAG,GAAGC,GAAV;;AACA,wBAAID,GAAG,KAAKC,GAAZ,EAAiB;AAChBE,uBAAC,GAAG,CAAJ;AACA,qBAFD,MAEO,IAAIH,GAAG,KAAKpI,CAAR,IAAamI,CAAC,IAAI3B,CAAtB,EAAyB;AAC/B+B,uBAAC,GAAG,MAAM,CAACJ,CAAC,GAAG3B,CAAL,IAAU8B,CAAhB,CAAJ;AACA,qBAFM,MAEA,IAAIF,GAAG,KAAKpI,CAAR,IAAamI,CAAC,GAAG3B,CAArB,EAAwB;AAC9B+B,uBAAC,GAAG,MAAM,CAACJ,CAAC,GAAG3B,CAAL,IAAU8B,CAAhB,IAAqB,GAAzB;AACA,qBAFM,MAEA,IAAIF,GAAG,KAAKD,CAAZ,EAAe;AACrBI,uBAAC,GAAG,MAAM,CAAC/B,CAAC,GAAGxG,CAAL,IAAUsI,CAAhB,IAAqB,GAAzB;AACA,qBAFM,MAEA,IAAIF,GAAG,KAAK5B,CAAZ,EAAe;AACrB+B,uBAAC,GAAG,MAAM,CAACvI,CAAC,GAAGmI,CAAL,IAAUG,CAAhB,IAAqB,GAAzB;AACA;;AACDhC,qBAAC,GAAG,CAAC8B,GAAG,GAAGC,GAAP,IAAc,CAAlB;;AACA,wBAAI/B,CAAC,KAAK,CAAN,IAAW8B,GAAG,KAAKC,GAAvB,EAA4B;AAC3BG,uBAAC,GAAG,CAAJ;AACA,qBAFD,MAEO,IAAI,IAAIlC,CAAJ,IAASA,CAAC,IAAI,GAAlB,EAAuB;AAC7BkC,uBAAC,GAAGF,CAAC,IAAI,IAAIhC,CAAR,CAAL;AACA,qBAFM,MAEA,IAAIA,CAAC,GAAG,GAAR,EAAa;AACnBkC,uBAAC,GAAGF,CAAC,IAAI,IAAI,IAAIhC,CAAZ,CAAL;AACA;;AACDpM,wBAAI,CAACgO,CAAD,CAAJ,KAAYO,CAAC,GAAGvO,IAAI,CAACgO,CAAD,CAApB;;AAEA,wBAAIH,CAAC,GAAG,GAAR,EAAa;AACZS,uBAAC,GAAGA,CAAC,GAAGT,CAAJ,GAAQ,GAAZ;AACA,qBAFD,MAEO,IAAIA,CAAC,GAAG,GAAR,EAAa;AACnBS,uBAAC,GAAG,IAAIA,CAAJ,GAAQ,IAAIT,CAAZ,GAAiBS,CAAC,GAAGT,CAAJ,GAAQ,GAAzB,GAAgC,CAApC;AACA;;AAED,wBAAIS,CAAC,KAAK,CAAV,EAAa;AACZxI,uBAAC,GAAGmI,CAAC,GAAG3B,CAAC,GAAGvB,IAAI,CAACyD,KAAL,CAAWpC,CAAC,GAAG,GAAf,CAAZ;AACA,qBAFD,MAEO;AACN,0BAAIA,CAAC,GAAG,GAAR,EAAa;AACZqC,yBAAC,GAAGrC,CAAC,IAAI,IAAIkC,CAAR,CAAL;AACA,uBAFD,MAEO,IAAIlC,CAAC,IAAI,GAAT,EAAc;AACpBqC,yBAAC,GAAGrC,CAAC,GAAGkC,CAAJ,GAASlC,CAAC,GAAGkC,CAAjB;AACA;;AACDI,uBAAC,GAAG,IAAItC,CAAJ,GAAQqC,CAAZ;AACAE,wBAAE,GAAGN,CAAC,GAAG,GAAT;AACAO,wBAAE,GAAGD,EAAE,GAAG,IAAI,CAAd;AACAE,wBAAE,GAAGF,EAAL;AACAG,wBAAE,GAAGH,EAAE,GAAG,IAAI,CAAd;;AACII,gCAXE,GAWW,SAAbA,UAAa,CAAC1C,CAAD,EAAO;AACvB,4BAAIA,CAAC,GAAG,CAAR,EAAW;AACV,iCAAOA,CAAC,GAAG,GAAX;AACA;;AACD,4BAAIA,CAAC,GAAG,CAAR,EAAW;AACV,iCAAOA,CAAC,GAAG,GAAX;AACA;;AACD,+BAAOA,CAAP;AACA,uBAnBK;;AAoBF2C,+BApBE,GAoBU,SAAZA,SAAY,CAAC3C,CAAD,EAAO;AACtB,4BAAIA,CAAC,GAAI,IAAI,CAAb,EAAiB;AAChB,iCAAOqC,CAAC,GAAI,CAACD,CAAC,GAAGC,CAAL,IAAU,CAAV,GAAcrC,CAA1B;AACA,yBAFD,MAEO,IAAIA,CAAC,IAAK,IAAI,CAAV,IAAgBA,CAAC,GAAI,IAAI,CAA7B,EAAiC;AACvC,iCAAOoC,CAAP;AACA,yBAFM,MAEA,IAAIpC,CAAC,IAAK,IAAI,CAAV,IAAgBA,CAAC,GAAI,IAAI,CAA7B,EAAiC;AACvC,iCAAOqC,CAAC,GAAI,CAACD,CAAC,GAAGC,CAAL,IAAU,CAAV,IAAgB,IAAI,CAAL,GAAUrC,CAAzB,CAAZ;AACA;;AACD,+BAAOqC,CAAP;AACA,uBA7BK;;AA8BN5I,uBAAC,GAAG8I,EAAE,GAAG7D,IAAI,CAACyD,KAAL,CAAWQ,SAAS,CAACD,UAAU,CAACH,EAAD,CAAX,CAAT,GAA4B,GAAvC,CAAT;AACAX,uBAAC,GAAGY,EAAE,GAAG9D,IAAI,CAACyD,KAAL,CAAWQ,SAAS,CAACD,UAAU,CAACF,EAAD,CAAX,CAAT,GAA4B,GAAvC,CAAT;AACAvC,uBAAC,GAAGwC,EAAE,GAAG/D,IAAI,CAACyD,KAAL,CAAWQ,SAAS,CAACD,UAAU,CAACD,EAAD,CAAX,CAAT,GAA4B,GAAvC,CAAT;AACA;;AACDP,qBAAC,KAAKvB,MAAM,CAACgB,CAAD,CAAN,GAAYO,CAAjB,CAAD;AACAvB,0BAAM,CAACgB,CAAC,GAAG,CAAL,CAAN,GAAgBlI,CAAhB;AACAkH,0BAAM,CAACgB,CAAC,GAAG,CAAL,CAAN,GAAgBC,CAAhB;AACAjB,0BAAM,CAACgB,CAAC,GAAG,CAAL,CAAN,GAAgB1B,CAAhB;AACA;AACD;;AAEGjE,oBAlHiB,GAkHV,MAAI,CAACA,IAlHK,EAmHpBC,IAnHoB,GAmHb,MAAI,CAACA,IAnHQ,EAoHpBC,QApHoB,GAoHT,MAAI,CAACA,QApHI,EAqHpBC,SArHoB,GAqHR,MAAI,CAACA,SArHG;AA2IrBpG,mBAAG,CAAC6M,kBAAJ,CAAuB;AACtBnH,0BAAQ,EAAE,YADY;AAEtBN,mBAAC,EAAEa,IAFmB;AAGtBZ,mBAAC,EAAEa,IAHmB;AAItB9B,uBAAK,EAAE+B,QAJe;AAKtB7B,wBAAM,EAAE8B,SALc;AAMtBxI,sBAAI,EAAEgN,MANgB;AAOtBzJ,sBAPsB,kBAOf;AACNnB,uBAAG,CAAC8E,SAAJ,CAAc;AACblB,2BAAK,EAAE,WADM;AAEbmB,8BAAQ,EAAE;AAFG,qBAAd;AAIA,mBAZqB;AAatB1D,0BAbsB,sBAaX;AACVrB,uBAAG,CAACgF,WAAJ;AACA;AAfqB,iBAAvB,EAgBG,MAhBH;;AA3IqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6JrB,KAtoCO;AAuoCR8H,QAvoCQ,gBAuoCHhH,MAvoCG,EAuoCK;AACA,WAAKA,MAAL,GAAcA,MAAd;AAEZ,aAAO,IAAIiF,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC5C,YAAItI,GAAG,GAAGmD,MAAM,CAACxD,KAAP,CAAa,GAAb,CAAV;AAAA,YACCyK,IAAI,GAAGpK,GAAG,CAAC,CAAD,CAAH,CAAOqK,KAAP,CAAa,SAAb,EAAwB,CAAxB,CADR;AAAA,YAECC,IAAI,GAAGC,IAAI,CAACvK,GAAG,CAAC,CAAD,CAAJ,CAFZ;AAAA,YAGCiJ,CAAC,GAAGqB,IAAI,CAACzB,MAHV;AAAA,YAIC2B,KAAK,GAAG,IAAIC,UAAJ,CAAexB,CAAf,CAJT;;AAKA,eAAOA,CAAC,EAAR,EAAY;AACXuB,eAAK,CAACvB,CAAD,CAAL,GAAWqB,IAAI,CAACI,UAAL,CAAgBzB,CAAhB,CAAX;AACA;;AACD,eAAOZ,OAAO,CAAC,CAACsC,MAAM,CAACC,GAAP,IAAcD,MAAM,CAACE,SAAtB,EAAiCC,eAAjC,CAAiD,IAAIC,IAAJ,CAAS,CAACP,KAAD,CAAT,EAAkB;AACjFQ,cAAI,EAAEZ;AAD2E,SAAlB,CAAjD,CAAD,CAAd;AAGA,OAZM,CAAP;AAaA;AAvpCO;AAzFK,C;;;;;;;;;;;;;;ACjChB;AAAA;AAAA;AAAA;AAAypB,CAAgB,6pBAAG,EAAC,C;;;;;;;;;;;ACA7qB;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/yq-avatar/yq-avatar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./yq-avatar.vue?vue&type=template&id=8f9d53a6&name=yq-avatar&\"\nvar renderjs\nimport script from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yq-avatar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/components/yq-avatar/yq-avatar.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=template&id=8f9d53a6&name=yq-avatar&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.iS])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\t\"use strict\";\n\tconst tH = 50;\n\texport default {\n\t\tname: \"yq-avatar\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcsH: '0px',\n\t\t\t\tsD: 'none',\n\t\t\t\tsT: '-10000px',\n\t\t\t\tpT: '-10000px',\n\t\t\t\tiS: {},\n\t\t\t\tsS: {},\n\t\t\t\tsO: true,\n\t\t\t\tbW: '19%',\n\t\t\t\tbD: 'flex',\n\t\t\t\ttp: 0,\n\t\t\t\timgSrc: {\n\t\t\t\t\timgSrc: ''\n                },\n\t\t\t};\n\t\t},\n\t\twatch: {\n\t\t\tavatarSrc() {\n\t\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tavatarSrc: '',\n\t\t\tavatarStyle: '',\n\t\t\tselWidth: '',\n\t\t\tselHeight: '',\n\t\t\texpWidth: '',\n\t\t\texpHeight: '',\n\t\t\tminScale: '',\n\t\t\tmaxScale: '',\n\t\t\tcanScale: '',\n\t\t\tcanRotate: '',\n\t\t\tlockWidth: '',\n\t\t\tlockHeight: '',\n\t\t\tstretch: '',\n\t\t\tlock: '',\n\t\t\tfileType: '',\n\t\t\tnoTab: '',\n\t\t\tinner: '',\n\t\t\tquality: '',\n\t\t\tindex: '',\n\t\t\tbgImage: '',\n        },\n\t\tcreated() {\n            this.cc = uni.createCanvasContext('avatar-canvas', this);\n            \n\t\t\tthis.cco = uni.createCanvasContext('oper-canvas', this);\n\t\t\tthis.ccp = uni.createCanvasContext('prv-canvas', this);\n\t\t\tthis.qlty = parseFloat(this.quality) || 1;\n\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\t\tthis.letRotate = (this.canRotate === false || this.inner === true || this.inner === 'true' || this.canRotate === 'false') ? 0 : 1;\n\t\t\tthis.letScale = (this.canScale === false || this.canScale === 'false') ? 0 : 1;\n\t\t\tthis.isin = (this.inner === true || this.inner === 'true') ? 1 : 0;\n\t\t\tthis.indx = this.index || undefined;\n\t\t\tthis.mnScale = parseFloat(this.minScale) || 0.3;\n\t\t\tthis.mxScale = parseFloat(this.maxScale) || 4;\n\t\t\tthis.noBar = (this.noTab === true || this.noTab === 'true') ? 1 : 0;\n\t\t\tthis.stc = this.stretch;\n\t\t\tthis.lck = this.lock;\n\t\t\tthis.fType = this.fileType === 'jpg' ? 'jpg' : 'png';\n\t\t\tif (this.isin||!this.letRotate) {\n\t\t\t\tthis.bW = '24%';\n\t\t\t\tthis.bD = 'none';\n\t\t\t} else {\n\t\t\t\tthis.bW = '19%';\n\t\t\t\tthis.bD = 'flex';\n\t\t\t}\n\t\t\t\n\t\t\tif (this.noBar) {\n\t\t\t\tthis.fWindowResize();\n\t\t\t} else {\n\t\t\t\tuni.showTabBar({\n\t\t\t\t\tfail: ()=>{\n\t\t\t\t\t\tthis.noBar = 1;\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: ()=>{\n\t\t\t\t\t\tthis.noBar = 0;\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: (res) => {\n\t\t\t\t\t\tthis.fWindowResize();\n\t\t\t\t\t}\n                });\n                uni.hideTabBar()\n            }\n            console.log(\"this.noBar\",this.noBar)\n\t\t},\n\t\tmethods: {\n\t\t\tfWindowResize() {\n\t\t\t\tlet sysInfo = uni.getSystemInfoSync();\n\t\t\t\tthis.platform = sysInfo.platform;\n\t\t\t\tthis.wW = sysInfo.windowWidth;\n                console.log(\"设备\",this.platform)\n\n\n\n\n\t\t\t\tthis.drawTop = 0;\n\n\t\t\t\t\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\n\n\t\t\t\tthis.wH = sysInfo.windowHeight;\n\t\t\t\tif(!this.noBar) this.wH += tH;\n                if(this.platform==\"ios\"){\n                    this.csH = (this.wH - tH-90)  + 'px';\n                }else if(this.platform==\"devtools\"){\n                    this.csH = (this.wH - tH)  + 'px';\n                }else{\n                    this.csH = (this.wH - tH-60)  + 'px';\n                }\n\n\t\t\t\t\n\t\t\t\tthis.tp = this.csH;\n\n\n\n\t\t\t\t\n\t\t\t\tthis.pxRatio = this.wW / 750;\n\n\t\t\t\tlet style = this.avatarStyle;\n\t\t\t\tif (style && style !== true && (style = style.trim())) {\n\t\t\t\t\tstyle = style.split(';');\n\t\t\t\t\tlet obj = {};\n\t\t\t\t\tfor (let v of style) {\n\t\t\t\t\t\tif (!v) continue;\n\t\t\t\t\t\tv = v.trim().split(':');\n\t\t\t\t\t\tif (v[1].toString().indexOf('upx') >= 0) {\n\t\t\t\t\t\t\tlet arr = v[1].trim().split(' ');\n\t\t\t\t\t\t\tfor (let k in arr) {\n\t\t\t\t\t\t\t\tif (!arr[k]) continue;\n\t\t\t\t\t\t\t\tif (arr[k].toString().indexOf('upx') >= 0) {\n\t\t\t\t\t\t\t\t\tarr[k] = parseFloat(arr[k]) * this.pxRatio + 'px';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tv[1] = arr.join(' ');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tobj[v[0].trim()] = v[1].trim();\n\t\t\t\t\t}\n\t\t\t\t\tthis.iS = obj;\n\t\t\t\t}\n\n\t\t\t\tthis.expWidth && (this.eW = this.expWidth.toString().indexOf('upx') >= 0 ? parseInt(this.expWidth) * this.pxRatio :\n\t\t\t\t\tparseInt(this.expWidth));\n\t\t\t\tthis.expHeight && (this.eH = this.expHeight.toString().indexOf('upx') >= 0 ? parseInt(this.expHeight) * this.pxRatio :\n\t\t\t\t\tparseInt(this.expHeight));\n\t\t\t\t\n\t\t\t\tif (this.sD === 'flex') {\n\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t}\n\t\t\t\tthis.fHideImg();\n\t\t\t},\n\t\t\tfSelect() {\n\t\t\t\tif (this.fSelecting) return;\n\t\t\t\tthis.fSelecting = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.fSelecting = false;\n\t\t\t\t}, 500);\n\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\t\tsourceType: ['album'],//camera\n\t\t\t\t\tsuccess: (r) => {\n\n\n\n\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '加载中...',\n\t\t\t\t\t\t\tmask: true\n                        });\n\n                        let path = this.imgPath = r.tempFilePaths[0];\n\t\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\t\tsrc: path,\n\t\t\t\t\t\t\tsuccess: r => {\n\t\t\t\t\t\t\t\tthis.imgWidth = r.width;\n\t\t\t\t\t\t\t\tthis.imgHeight = r.height;\n\t\t\t\t\t\t\t\tthis.path = path;\n\t\t\t\t\t\t\t\tif (!this.hasSel) {\n\t\t\t\t\t\t\t\t\tlet style = this.sS || {};\n\t\t\t\t\t\t\t\t\tif (this.selWidth && this.selHeight) {\n\t\t\t\t\t\t\t\t\t\tlet sW = this.selWidth.toString().indexOf('upx') >= 0 ? parseInt(this.selWidth) * this.pxRatio : parseInt(\n\t\t\t\t\t\t\t\t\t\t\t\tthis.selWidth),\n\t\t\t\t\t\t\t\t\t\t\tsH = this.selHeight.toString().indexOf('upx') >= 0 ? parseInt(this.selHeight) * this.pxRatio : parseInt(\n\t\t\t\t\t\t\t\t\t\t\t\tthis.selHeight);\n\t\t\t\t\t\t\t\t\t\tstyle.width = sW + 'px';\n\t\t\t\t\t\t\t\t\t\tstyle.height = sH + 'px';\n\t\t\t\t\t\t\t\t\t\tstyle.top = ((this.wH - sH - tH)|0) / 2 + 'px';\n\t\t\t\t\t\t\t\t\t\tstyle.left = ((this.wW - sW)|0) / 2 + 'px';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '裁剪框的宽或高没有设置',\n\t\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.sS = style;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (this.noBar) {\n\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.hideTabBar({\n\t\t\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: \"请选择正确图片\",\n\t\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tfUpload() {\n\t\t\t\tif (this.fUploading) return;\n\t\t\t\tthis.fUploading = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.fUploading = false;\n\t\t\t\t}, 1000)\n                this.$emit(\"largeImg\",this.imgPath)//返回原图\n\n\t\t\t\tlet style = this.sS,\n\t\t\t\t\tx = parseInt(style.left),\n\t\t\t\t\ty = parseInt(style.top),\n\t\t\t\t\twidth = parseInt(style.width),\n\t\t\t\t\theight = parseInt(style.height),\n\t\t\t\t\texpWidth = this.eW || (width* this.pixelRatio),\n\t\t\t\t\texpHeight = this.eH || (height* this.pixelRatio);\n\n\n\n\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\n\n\t\t\t\tthis.sD = 'none';\n\t\t\t\tthis.sT = '-10000px';\n\t\t\t\tthis.hasSel = false;\n\t\t\t\tthis.fHideImg();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t\tdestWidth: expWidth,\n\t\t\t\t\tdestHeight: expHeight,\n\t\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\t\tfileType: this.fType,\n\t\t\t\t\tquality: this.qlty,\n\t\t\t\t\tsuccess: (r) => {\n\t\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\t\tthis.$emit(\"upload\", {\n\t\t\t\t\t\t\tavatar: this.imgSrc,\n\t\t\t\t\t\t\tpath: r,\n\t\t\t\t\t\t\tindex: this.indx,\n\t\t\t\t\t\t\tdata: this.rtn,\n\t\t\t\t\t\t\tbase64: this.base64 || null\n\t\t\t\t\t\t});\n\n\t\t\t\t\t},\n\t\t\t\t\tfail: (res) => {\n                        \n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"error1\",\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n                                         \n\t\t\t\t\t\tuni.hideLoading();\n                        this.noBar || uni.showTabBar();\n                        uni.hideTabBar()\n\t\t\t\t\t\tthis.$emit(\"end\");\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t},\n\t\t\tfPrvUpload() {\n\t\t\t\tif (this.fPrvUploading) return;\n\t\t\t\tthis.fPrvUploading = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.fPrvUploading = false;\n\t\t\t\t}, 1000)\n\n\t\t\t\tlet style = this.sS,\n\t\t\t\t\tdestWidth = parseInt(style.width),\n\t\t\t\t\tdestHeight = parseInt(style.height),\n\t\t\t\t\tprvX = this.prvX,\n\t\t\t\t\tprvY = this.prvY,\n\t\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\t\tprvHeight = this.prvHeight,\n\t\t\t\t\texpWidth = this.eW || (parseInt(style.width) * this.pixelRatio),\n\t\t\t\t\texpHeight = this.eH || (parseInt(style.height) * this.pixelRatio);\n\n\n\n\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\n\n\t\t\t\tthis.sD = 'none';\n\t\t\t\tthis.sT = '-10000px';\n\t\t\t\tthis.hasSel = false;\n\t\t\t\tthis.fHideImg();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tx: prvX,\n\t\t\t\t\ty: prvY,\n\t\t\t\t\twidth: prvWidth,\n\t\t\t\t\theight: prvHeight,\n\t\t\t\t\tdestWidth: expWidth,\n\t\t\t\t\tdestHeight: expHeight,\n\t\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\t\tfileType: this.fType,\n\t\t\t\t\tquality: this.qlty,\n\t\t\t\t\tsuccess: (r) => {\n\t\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\t\tthis.$emit(\"upload\", {\n\t\t\t\t\t\t\tavatar: this.imgSrc,\n\t\t\t\t\t\t\tpath: r,\n\t\t\t\t\t\t\tindex: this.indx,\n\t\t\t\t\t\t\tdata: this.rtn,\n\t\t\t\t\t\t\tbase64: this.base64 || null\n\t\t\t\t\t\t});\n\n\t\t\t\t\t},\n\t\t\t\t\tfail: () => {\n                        \n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"error_prv\",\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n                        \n\t\t\t\t\t\tuni.hideLoading();\n                        this.noBar || uni.showTabBar();\n                        uni.hideTabBar()\n\t\t\t\t\t\tthis.$emit(\"end\");\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t},\n\t\t\tfDrawInit(ini = false) {\n\t\t\t\tlet allWidth = this.wW,\n\t\t\t\t\tallHeight = this.wH,\n\t\t\t\t\timgWidth = this.imgWidth,\n\t\t\t\t\timgHeight = this.imgHeight,\n\t\t\t\t\timgRadio = imgWidth / imgHeight,\n\t\t\t\t\tuseWidth = allWidth - 40,\n\t\t\t\t\tuseHeight = allHeight - tH - 80,\n\t\t\t\t\tuseRadio = useWidth / useHeight,\n\t\t\t\t\tsW = parseInt(this.sS.width),\n\t\t\t\t\tsH = parseInt(this.sS.height);\n\n\t\t\t\tthis.fixWidth = 0;\n\t\t\t\tthis.fixHeight = 0;\n\t\t\t\tthis.lckWidth = 0;\n\t\t\t\tthis.lckHeight = 0;\n\t\t\t\tswitch (this.stc) {\n\t\t\t\t\tcase 'x':\n\t\t\t\t\t\tthis.fixWidth = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'y':\n\t\t\t\t\t\tthis.fixHeight = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'long':\n\t\t\t\t\t\tif (imgRadio > 1) this.fixWidth = 1;\n\t\t\t\t\t\telse this.fixHeight = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'short':\n\t\t\t\t\t\tif (imgRadio > 1) this.fixHeight = 1;\n\t\t\t\t\t\telse this.fixWidth = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'longSel':\n\t\t\t\t\t\tif (sW > sH) this.fixWidth = 1;\n\t\t\t\t\t\telse this.fixHeight = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shortSel':\n\t\t\t\t\t\tif (sW > sH) this.fixHeight = 1;\n\t\t\t\t\t\telse this.fixWidth = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tswitch (this.lck) {\n\t\t\t\t\tcase 'x':\n\t\t\t\t\t\tthis.lckWidth = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'y':\n\t\t\t\t\t\tthis.lckHeight = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'long':\n\t\t\t\t\t\tif (imgRadio > 1) this.lckWidth = 1;\n\t\t\t\t\t\telse this.lckHeight = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'short':\n\t\t\t\t\t\tif (imgRadio > 1) this.lckHeight = 1;\n\t\t\t\t\t\telse this.lckWidth = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'longSel':\n\t\t\t\t\t\tif (sW > sH) this.lckWidth = 1;\n\t\t\t\t\t\telse this.lckHeight = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shortSel':\n\t\t\t\t\t\tif (sW > sH) this.lckHeight = 1;\n\t\t\t\t\t\telse this.lckWidth = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (this.fixWidth) {\n\t\t\t\t\tuseWidth = sW;\n\t\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t\t} else if (this.fixHeight) {\n\t\t\t\t\tuseHeight = sH;\n\t\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t\t} else if (imgRadio < useRadio) {\n\t\t\t\t\tif (imgHeight < useHeight) {\n\t\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (imgWidth < useWidth) {\n\t\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.isin) {\n\t\t\t\t\tif (useWidth < sW) {\n\t\t\t\t\t\tuseWidth = sW;\n\t\t\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t\t\t\tthis.lckHeight = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (useHeight < sH) {\n\t\t\t\t\t\tuseHeight = sH;\n\t\t\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t\t\t\tthis.lckWidth = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.scaleSize = 1;\n\t\t\t\tthis.rotateDeg = 0;\n\t\t\t\tthis.posWidth = (allWidth - useWidth) / 2 | 0;\n\t\t\t\tthis.posHeight = (allHeight - useHeight - tH) / 2 | 0;\n\t\t\t\tthis.useWidth = useWidth | 0;\n\t\t\t\tthis.useHeight = useHeight | 0;\n\t\t\t\tthis.centerX = this.posWidth + useWidth / 2;\n\t\t\t\tthis.centerY = this.posHeight + useHeight / 2;\n\t\t\t\tthis.focusX = 0;\n\t\t\t\tthis.focusY = 0;\n\n\t\t\t\tlet style = this.sS,\n\t\t\t\t\tleft = parseInt(style.left),\n\t\t\t\t\ttop = parseInt(style.top),\n\t\t\t\t\twidth = parseInt(style.width),\n\t\t\t\t\theight = parseInt(style.height),\n\t\t\t\t\tcanvas = this.canvas,\n\t\t\t\t\tcanvasOper = this.canvasOper,\n\t\t\t\t\tcc = this.cc,\n\t\t\t\t\tcco = this.cco;\n\t\t\t\tcc.setFillStyle('white');//白色背景\t\n                cco.beginPath();\n\t\t\t\tcco.setLineWidth(3);\n\t\t\t\tcco.setGlobalAlpha(1);\n\t\t\t\t// cco.setStrokeStyle('white');//白色描边\n\t\t\t\t// cco.strokeRect(left, top, width+50, height);\n\t\t\t\tcco.drawImage(\"../../static/user/kuangkuang1.png\", left, top, width, height)\n\t\t\t\tcco.setFillStyle('black');//遮罩black\n\t\t\t\tcco.setGlobalAlpha(0.65);\n\t\t\t\tcco.fillRect(0, 0, this.wW, top);\n\t\t\t\tcco.fillRect(0, top, left, height);\n\t\t\t\tcco.fillRect(0, top + height, this.wW, this.wH - height - top - tH);\n\t\t\t\tcco.fillRect(left + width, top, this.wW - width - left, height);\n\n                // cco.beginPath()\n                // cco.moveTo(left + width-5, top);\n\t\t\t\t// cco.lineTo(left + width-5, top + height-5);\n\t\t\t\t// cco.lineTo(left+270, top + height-5);\n                // // cco.closePath();\n                // cco.fill();\n\n\t\t\t\t// cco.setGlobalAlpha(1);\n\t\t\t\t// cco.setStrokeStyle('#7F95FF');\n\t\t\t\t// cco.moveTo(left+15, top);\n\t\t\t\t// cco.lineTo(left, top);\n\t\t\t\t// cco.lineTo(left, top+15);\n\t\t\t\t// cco.moveTo(left+width-15, top);\n\t\t\t\t// cco.lineTo(left+width, top);\n\t\t\t\t// cco.lineTo(left+width, top+15);\n\t\t\t\t// cco.moveTo(left+15, top+height);\n\t\t\t\t// cco.lineTo(left, top+height);\n\t\t\t\t// cco.lineTo(left, top+height-15);\n\t\t\t\t// cco.moveTo(left+width-15, top+height);\n\t\t\t\t// cco.lineTo(left+width, top+height);\n                // cco.lineTo(left+width, top+height-15);\n\t\t\t\tcco.stroke();\n\t\t\t\t\n\t\t\t\tcco.draw(false, () => {\n\t\t\t\t\tif (ini) {\n\t\t\t\t\t\tthis.sD = 'flex';\n\t\t\t\t\t\tthis.sT = this.drawTop + 'px';\n\t\t\t\t\t\tthis.fDrawImage(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.$emit(\"init\");\n\t\t\t},\n\t\t\tfDrawImage(ini = false) {\n\t\t\t\tlet tm_now = Date.now();\n\t\t\t\tif (tm_now - this.drawTm < 20) return;\n\t\t\t\tthis.drawTm = tm_now;\n\n\t\t\t\tlet cc = this.cc,\n\t\t\t\t\timgWidth = this.useWidth * this.scaleSize,\n\t\t\t\t\timgHeight = this.useHeight * this.scaleSize;\n\n\n\n\n\t\t\t\tcc.setFillStyle('white');//白色背景\t\n\t\t\t\tif (this.bgImage) {\n\n\n\n\n\t\t\t\t\tcc.drawImage(this.bgImage, 0, 0, this.wW, this.wH - tH);\n\n\t\t\t\t} else {\n\t\t\t\t\tcc.fillRect(0, 0, this.wW, this.wH - tH);\n\t\t\t\t}\n\n\t\t\t\tif (this.isin) {\n\t\t\t\t\tlet cx = this.focusX * (this.scaleSize - 1),\n\t\t\t\t\t\tcy = this.focusY * (this.scaleSize - 1);\n\n\t\t\t\t\tcc.translate(this.centerX, this.centerY);\n\t\t\t\t\tcc.rotate(this.rotateDeg * Math.PI / 180);\n\t\t\t\t\tcc.drawImage(this.imgPath, this.posWidth-this.centerX-cx, this.posHeight-this.centerY-cy, imgWidth, imgHeight);\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tcc.translate(this.posWidth + imgWidth / 2, this.posHeight + imgHeight / 2);\n\t\t\t\t\tcc.rotate(this.rotateDeg * Math.PI / 180);\n\t\t\t\t\tcc.drawImage(this.imgPath, -imgWidth / 2, -imgHeight / 2, imgWidth, imgHeight);\n\t\t\t\t}\n\n\t\t\t\tcc.draw(false);\n\n\n\n\n\t\t\t},\n\t\t\tfPreview() {\n\t\t\t\tif (this.fPreviewing) return;\n\t\t\t\tthis.fPreviewing = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.fPreviewing = false;\n\t\t\t\t}, 1000);\n\n\t\t\t\tlet style = this.sS,\n\t\t\t\t\tx = parseInt(style.left),\n\t\t\t\t\ty = parseInt(style.top),\n\t\t\t\t\twidth = parseInt(style.width),\n\t\t\t\t\theight = parseInt(style.height);\n\n\n\n\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height,\n\t\t\t\t\texpWidth: width * this.pixelRatio,\n\t\t\t\t\texpHeight: height * this.pixelRatio,\n\t\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\t\tfileType: this.fType,\n\t\t\t\t\tquality: this.qlty,\n\t\t\t\t\tsuccess: (r) => {\n\t\t\t\t\t\tthis.prvImgTmp = r = r.tempFilePath;\n\n\t\t\t\t\t\tlet ccp = this.ccp,\n\t\t\t\t\t\t\tprvX = this.wW,\n\t\t\t\t\t\t\tprvY = parseInt(this.csH);\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\t\tlet prvWidth = parseInt(this.sS.width),\n\t\t\t\t\t\t\tprvHeight = parseInt(this.sS.height),\n\t\t\t\t\t\t\tuseWidth = prvX - 40,\n\t\t\t\t\t\t\tuseHeight = prvY - 80,\n\t\t\t\t\t\t\tradio = useWidth / prvWidth,\n\t\t\t\t\t\t\trHeight = prvHeight * radio;\n\t\t\t\t\t\tif (rHeight < useHeight) {\n\t\t\t\t\t\t\tprvWidth = useWidth;\n\t\t\t\t\t\t\tprvHeight = rHeight;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tradio = useHeight / prvHeight;\n\t\t\t\t\t\t\tprvWidth *= radio;\n\t\t\t\t\t\t\tprvHeight = useHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tccp.fillRect(0, 0, prvX, prvY);\n\t\t\t\t\t\tthis.prvX = prvX = ((prvX - prvWidth) / 2) | 0;\n\t\t\t\t\t\tthis.prvY = prvY = ((prvY - prvHeight) / 2) | 0;\n\t\t\t\t\t\tthis.prvWidth = prvWidth = prvWidth | 0;\n\t\t\t\t\t\tthis.prvHeight = prvHeight = prvHeight | 0;\n\t\t\t\t\t\tccp.drawImage(r, prvX, prvY, prvWidth, prvHeight);\n\t\t\t\t\t\tccp.draw(false);\n\n\n\n\n\n\n\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.sO = false; \n\t\t\t\t\t\t// if (this.platform === 'android') this.sO = false;\n\t\t\t\t\t\tthis.pT = this.drawTop + 'px';\n\t\t\t\t\t},\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"error2\",\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t},\n\t\t\tfChooseImg(index = undefined, params = undefined, data = undefined) {\n\t\t\t\tif (params) {\n\t\t\t\t\tlet sW = params.selWidth,\n\t\t\t\t\t\tsH = params.selHeight,\n\t\t\t\t\t\texpWidth = params.expWidth,\n\t\t\t\t\t\texpHeight = params.expHeight,\n\t\t\t\t\t\tquality = params.quality,\n\t\t\t\t\t\tcanRotate = params.canRotate,\n\t\t\t\t\t\tcanScale = params.canScale,\n\t\t\t\t\t\tminScale = params.minScale,\n\t\t\t\t\t\tmaxScale = params.maxScale,\n\t\t\t\t\t\tstretch = params.stretch,\n\t\t\t\t\t\tfileType = params.fileType,\n\t\t\t\t\t\tinner = params.inner,\n\t\t\t\t\t\tlock = params.lock;\n\n\t\t\t\t\texpWidth && (this.eW = expWidth.toString().indexOf('upx') >= 0 ? parseInt(expWidth) * this.pxRatio : parseInt(\n\t\t\t\t\t\texpWidth));\n\t\t\t\t\texpHeight && (this.eH = expHeight.toString().indexOf('upx') >= 0 ? parseInt(expHeight) * this.pxRatio : parseInt(\n\t\t\t\t\t\texpHeight));\n\t\t\t\t\tthis.letRotate = (canRotate === false || inner === true || inner === 'true' || canRotate === 'false') ? 0 : 1;\n\t\t\t\t\tthis.letScale = (canScale === false || canScale === 'false') ? 0 : 1;\n\t\t\t\t\tthis.qlty = parseFloat(quality) || 1;\n\t\t\t\t\tthis.mnScale = parseFloat(minScale) || 0.3;\n\t\t\t\t\tthis.mxScale = parseFloat(maxScale) || 4;\n\t\t\t\t\tthis.stc = stretch;\n\t\t\t\t\tthis.isin = (inner === true || inner === 'true') ? 1 : 0;\n\t\t\t\t\tthis.fType = fileType === 'jpg' ? 'jpg' : 'png';\n\t\t\t\t\tthis.lck = lock;\n\t\t\t\t\tif (this.isin||!this.letRotate) {\n\t\t\t\t\t\tthis.bW = '24%';\n\t\t\t\t\t\tthis.bD = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.bW = '19%';\n\t\t\t\t\t\tthis.bD = 'flex';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (sW && sH) {\n\t\t\t\t\t\tsW = sW.toString().indexOf('upx') >= 0 ? parseInt(sW) * this.pxRatio : parseInt(sW);\n\t\t\t\t\t\tsH = sH.toString().indexOf('upx') >= 0 ? parseInt(sH) * this.pxRatio : parseInt(sH);\n\t\t\t\t\t\tthis.sS.width = sW + 'px';\n\t\t\t\t\t\tthis.sS.height = sH + 'px';\n\t\t\t\t\t\tthis.sS.top = ((this.wH - sH - tH)|0) / 2 + 'px';\n\t\t\t\t\t\tthis.sS.left = ((this.wW - sW)|0) / 2 + 'px';\n\t\t\t\t\t\tthis.hasSel = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.rtn = data;\n\t\t\t\tthis.indx = index;\n\t\t\t\tthis.fSelect();\n\t\t\t},\n\t\t\tfRotate() {\n\t\t\t\tthis.rotateDeg += 90 - this.rotateDeg % 90;\n\t\t\t\tthis.fDrawImage();\n\t\t\t},\n\t\t\tfStart(e) {\n\t\t\t\tlet touches = e.touches,\n\t\t\t\t\ttouch0 = touches[0],\n\t\t\t\t\ttouch1 = touches[1];\n\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t\tthis.touch1 = touch1;\n\n\t\t\t\tif (touch1) {\n\t\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\t\ty = touch1.y - touch0.y;\n\t\t\t\t\tthis.fgDistance = Math.sqrt(x * x + y * y);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfMove(e) {\n\t\t\t\tlet touches = e.touches,\n\t\t\t\t\ttouch0 = touches[0],\n\t\t\t\t\ttouch1 = touches[1];\n\n\t\t\t\tif (touch1) {\n\t\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\t\ty = touch1.y - touch0.y,\n\t\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\n\t\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\n\t\t\t\t\t\tbeScaleSize = this.scaleSize + scaleSize;\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (!this.letScale) break;\n\t\t\t\t\t\tif (beScaleSize < this.mnScale) break;\n\t\t\t\t\t\tif (beScaleSize > this.mxScale) break;\n\n\t\t\t\t\t\tlet growX = this.useWidth * scaleSize / 2,\n\t\t\t\t\t\t\tgrowY = this.useHeight * scaleSize / 2;\n\t\t\t\t\t\tif (this.isin) {\n\t\t\t\t\t\t\tlet imgWidth = this.useWidth * beScaleSize,\n\t\t\t\t\t\t\t\timgHeight = this.useHeight * beScaleSize,\n\t\t\t\t\t\t\t\tl = this.posWidth - growX,\n\t\t\t\t\t\t\t\tt = this.posHeight - growY,\n\t\t\t\t\t\t\t\tr = l + imgWidth,\n\t\t\t\t\t\t\t\tb = t + imgHeight,\n\t\t\t\t\t\t\t\tleft = parseInt(this.sS.left),\n\t\t\t\t\t\t\t\ttop = parseInt(this.sS.top),\n\t\t\t\t\t\t\t\twidth = parseInt(this.sS.width),\n\t\t\t\t\t\t\t\theight = parseInt(this.sS.height),\n\t\t\t\t\t\t\t\tright = left + width,\n\t\t\t\t\t\t\t\tbottom = top + height,\n\t\t\t\t\t\t\t\tcx, cy;\n\n\t\t\t\t\t\t\tif (imgWidth <= width || imgHeight <= height) break;\n\t\t\t\t\t\t\tthis.cx = cx = this.focusX * beScaleSize - this.focusX,\n\t\t\t\t\t\t\t\tthis.cy = cy = this.focusY * beScaleSize - this.focusY;\n\t\t\t\t\t\t\tthis.posWidth -= growX;\n\t\t\t\t\t\t\tthis.posHeight -= growY;\n\t\t\t\t\t\t\tif (this.posWidth - cx > left) {\n\t\t\t\t\t\t\t\tthis.posWidth = left + cx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.posWidth + imgWidth - cx < right) {\n\t\t\t\t\t\t\t\tthis.posWidth = right - imgWidth + cx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.posHeight - cy > top) {\n\t\t\t\t\t\t\t\tthis.posHeight = top + cy;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.posHeight + imgHeight - cy < bottom) {\n\t\t\t\t\t\t\t\tthis.posHeight = bottom - imgHeight + cy;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.posWidth -= growX;\n\t\t\t\t\t\t\tthis.posHeight -= growY;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.scaleSize = beScaleSize;\n\t\t\t\t\t} while (0);\n\t\t\t\t\tthis.fgDistance = fgDistance;\n\t\t\t\t\tif (touch1.x !== touch0.x && this.letRotate) {\n\t\t\t\t\t\tx = (this.touch1.y - this.touch0.y) / (this.touch1.x - this.touch0.x);\n\t\t\t\t\t\ty = (touch1.y - touch0.y) / (touch1.x - touch0.x);\n\t\t\t\t\t\tthis.rotateDeg += Math.atan((y - x) / (1 + x * y)) * 180 / Math.PI;\n\t\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\t\tthis.touch1 = touch1;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.fDrawImage();\n\t\t\t\t} else if (this.touch0) {\n\t\t\t\t\tlet x = touch0.x - this.touch0.x,\n\t\t\t\t\t\ty = touch0.y - this.touch0.y,\n\t\t\t\t\t\tbeX = this.posWidth + x,\n\t\t\t\t\t\tbeY = this.posHeight + y;\n\t\t\t\t\tif (this.isin) {\n\t\t\t\t\t\tlet imgWidth = this.useWidth * this.scaleSize,\n\t\t\t\t\t\t\timgHeight = this.useHeight * this.scaleSize,\n\t\t\t\t\t\t\tl = beX,\n\t\t\t\t\t\t\tt = beY,\n\t\t\t\t\t\t\tr = l + imgWidth,\n\t\t\t\t\t\t\tb = t + imgHeight,\n\t\t\t\t\t\t\tleft = parseInt(this.sS.left),\n\t\t\t\t\t\t\ttop = parseInt(this.sS.top),\n\t\t\t\t\t\t\tright = left + parseInt(this.sS.width),\n\t\t\t\t\t\t\tbottom = top + parseInt(this.sS.height),\n\t\t\t\t\t\t\tcx, cy;\n\n\t\t\t\t\t\tthis.cx = cx = this.focusX * this.scaleSize - this.focusX;\n\t\t\t\t\t\tthis.cy = cy = this.focusY * this.scaleSize - this.focusY;\n\n\t\t\t\t\t\tif (!this.lckWidth && Math.abs(x) < 100) {\n\t\t\t\t\t\t\tif (left < l - cx) {\n\t\t\t\t\t\t\t\tthis.posWidth = left + cx;\n\t\t\t\t\t\t\t} else if (right > r - cx) {\n\t\t\t\t\t\t\t\tthis.posWidth = right - imgWidth + cx;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.posWidth = beX;\n\t\t\t\t\t\t\t\tthis.focusX -= x;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!this.lckHeight && Math.abs(y) < 100) {\n\t\t\t\t\t\t\tif (top < t - cy) {\n\t\t\t\t\t\t\t\tthis.focusY -= (top + cy - this.posHeight);\n\t\t\t\t\t\t\t\tthis.posHeight = top + cy;\n\t\t\t\t\t\t\t} else if (bottom > b - cy) {\n\t\t\t\t\t\t\t\tthis.focusY -= (bottom + cy - (this.posHeight + imgHeight));\n\t\t\t\t\t\t\t\tthis.posHeight = bottom - imgHeight + cy;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.posHeight = beY;\n\t\t\t\t\t\t\t\tthis.focusY -= y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (Math.abs(x) < 100 && !this.lckWidth) this.posWidth = beX;\n\t\t\t\t\t\tif (Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\n\t\t\t\t\t\tthis.focusX -= x;\n\t\t\t\t\t\tthis.focusY -= y;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\tthis.fDrawImage();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfEnd(e) {\n\t\t\t\tlet touches = e.touches,\n\t\t\t\t\ttouch0 = touches && touches[0],\n\t\t\t\t\ttouch1 = touches && touches[1];\n\t\t\t\tif (touch0) {\n\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.touch0 = null;\n\t\t\t\t\tthis.touch1 = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfHideImg() {\n\t\t\t\tthis.prvImg = '';\n\t\t\t\tthis.pT = '-10000px';\n\t\t\t\tthis.sO = true;\n\t\t\t\tthis.prvImgData = null;\n\t\t\t\tthis.target = null;\n\t\t\t},\n\t\t\tfClose() {\n\t\t\t\tthis.sD = 'none';\n\t\t\t\tthis.sT = '-10000px';\n\t\t\t\tthis.hasSel = false;\n\t\t\t\tthis.fHideImg();\n                this.noBar || uni.showTabBar();\n                uni.hideTabBar()\n\t\t\t\tthis.$emit(\"end\");\n\t\t\t},\n\t\t\tfGetImgData() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet prvX = this.prvX,\n\t\t\t\t\t\tprvY = this.prvY,\n\t\t\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\t\t\tprvHeight = this.prvHeight;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\tuni.canvasGetImageData({\n\t\t\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\t\t\tx: prvX,\n\t\t\t\t\t\ty: prvY,\n\t\t\t\t\t\twidth: prvWidth,\n\t\t\t\t\t\theight: prvHeight,\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this);\n\n\t\t\t\t});\n\t\t\t},\n\t\t\tasync fColorChange(e) {\n\t\t\t\tlet tm_now = Date.now();\n\t\t\t\tif (tm_now - this.prvTm < 100) return;\n\t\t\t\tthis.prvTm = tm_now;\n\n\n\n\n\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\n\n\t\t\t\tif (!this.prvImgData) {\n\t\t\t\t\tif (!(this.prvImgData = await this.fGetImgData().catch(() => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"error_read\",\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}))) return;\n\n\t\t\t\t\tthis.target = new Uint8ClampedArray(this.prvImgData.length);\n\t\t\t\t}\n\n\t\t\t\tlet data = this.prvImgData,\n\t\t\t\t\ttarget = this.target,\n\t\t\t\t\ti = e.detail.value,\n\t\t\t\t\tr, g, b, a, h, s, l, d, p, q, t, min, max, hK, tR, tG, tB;\n\n\t\t\t\tif (i === 0) {\n\t\t\t\t\ttarget = data;\n\t\t\t\t} else {\n\t\t\t\t\ti = (i + 100) / 200;\n\t\t\t\t\tif (i < 0.005) i = 0;\n\t\t\t\t\tif (i > 0.995) i = 1;\n\t\t\t\t\tfor (let n = data.length - 1; n >= 0; n -= 4) {\n\t\t\t\t\t\tr = data[n - 3] / 255;\n\t\t\t\t\t\tg = data[n - 2] / 255;\n\t\t\t\t\t\tb = data[n - 1] / 255;\n\t\t\t\t\t\tmax = Math.max(r, g, b);\n\t\t\t\t\t\tmin = Math.min(r, g, b);\n\t\t\t\t\t\td = max - min;\n\t\t\t\t\t\tif (max === min) {\n\t\t\t\t\t\t\th = 0;\n\t\t\t\t\t\t} else if (max === r && g >= b) {\n\t\t\t\t\t\t\th = 60 * ((g - b) / d);\n\t\t\t\t\t\t} else if (max === r && g < b) {\n\t\t\t\t\t\t\th = 60 * ((g - b) / d) + 360;\n\t\t\t\t\t\t} else if (max === g) {\n\t\t\t\t\t\t\th = 60 * ((b - r) / d) + 120;\n\t\t\t\t\t\t} else if (max === b) {\n\t\t\t\t\t\t\th = 60 * ((r - g) / d) + 240;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tl = (max + min) / 2;\n\t\t\t\t\t\tif (l === 0 || max === min) {\n\t\t\t\t\t\t\ts = 0;\n\t\t\t\t\t\t} else if (0 < l && l <= 0.5) {\n\t\t\t\t\t\t\ts = d / (2 * l);\n\t\t\t\t\t\t} else if (l > 0.5) {\n\t\t\t\t\t\t\ts = d / (2 - 2 * l);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata[n] && (a = data[n]);\n\n\t\t\t\t\t\tif (i < 0.5) {\n\t\t\t\t\t\t\ts = s * i / 0.5;\n\t\t\t\t\t\t} else if (i > 0.5) {\n\t\t\t\t\t\t\ts = 2 * s + 2 * i - (s * i / 0.5) - 1;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (s === 0) {\n\t\t\t\t\t\t\tr = g = b = Math.round(l * 255);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (l < 0.5) {\n\t\t\t\t\t\t\t\tq = l * (1 + s);\n\t\t\t\t\t\t\t} else if (l >= 0.5) {\n\t\t\t\t\t\t\t\tq = l + s - (l * s);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tp = 2 * l - q;\n\t\t\t\t\t\t\thK = h / 360;\n\t\t\t\t\t\t\ttR = hK + 1 / 3;\n\t\t\t\t\t\t\ttG = hK;\n\t\t\t\t\t\t\ttB = hK - 1 / 3;\n\t\t\t\t\t\t\tlet correctRGB = (t) => {\n\t\t\t\t\t\t\t\tif (t < 0) {\n\t\t\t\t\t\t\t\t\treturn t + 1.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (t > 1) {\n\t\t\t\t\t\t\t\t\treturn t - 1.0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn t;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet createRGB = (t) => {\n\t\t\t\t\t\t\t\tif (t < (1 / 6)) {\n\t\t\t\t\t\t\t\t\treturn p + ((q - p) * 6 * t);\n\t\t\t\t\t\t\t\t} else if (t >= (1 / 6) && t < (1 / 2)) {\n\t\t\t\t\t\t\t\t\treturn q;\n\t\t\t\t\t\t\t\t} else if (t >= (1 / 2) && t < (2 / 3)) {\n\t\t\t\t\t\t\t\t\treturn p + ((q - p) * 6 * ((2 / 3) - t));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn p;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tr = tR = Math.round(createRGB(correctRGB(tR)) * 255);\n\t\t\t\t\t\t\tg = tG = Math.round(createRGB(correctRGB(tG)) * 255);\n\t\t\t\t\t\t\tb = tB = Math.round(createRGB(correctRGB(tB)) * 255);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ta && (target[n] = a);\n\t\t\t\t\t\ttarget[n - 3] = r;\n\t\t\t\t\t\ttarget[n - 2] = g;\n\t\t\t\t\t\ttarget[n - 1] = b;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet prvX = this.prvX,\n\t\t\t\t\tprvY = this.prvY,\n\t\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\t\tprvHeight = this.prvHeight;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\tuni.canvasPutImageData({\n\t\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\t\tx: prvX,\n\t\t\t\t\ty: prvY,\n\t\t\t\t\twidth: prvWidth,\n\t\t\t\t\theight: prvHeight,\n\t\t\t\t\tdata: target,\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'error_put',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete() {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t},\n\t\t\tbtop(base64) {\n                this.base64 = base64;\n                \n\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\tvar arr = base64.split(','),\n\t\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\n\t\t\t\t\t\tbstr = atob(arr[1]),\n\t\t\t\t\t\tn = bstr.length,\n\t\t\t\t\t\tu8arr = new Uint8Array(n);\n\t\t\t\t\twhile (n--) {\n\t\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\n\t\t\t\t\t}\n\t\t\t\t\treturn resolve((window.URL || window.webkitURL).createObjectURL(new Blob([u8arr], {\n\t\t\t\t\t\ttype: mime\n\t\t\t\t\t})));\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597883811291\n      var cssReload = require(\"C:/Users/MSI-PC/Desktop/sy/Knowledge/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}